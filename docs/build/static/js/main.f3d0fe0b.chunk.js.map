{"version":3,"sources":["data.ts","serviceWorkerRegistration.ts","themes/common_theme_data.ts","themes/dark.ts","themes/light.ts","themes/index.ts","App.tsx","index.tsx","misc.ts","components/UpdateReadyIcon.tsx","components/WorksOfflineIcon.tsx","components/AppBar.tsx","components/InfoDialogue.tsx","components/LanguageDialogue.tsx","components/AppFrame.tsx","components/Centred.tsx","components/DrawerAdjust.tsx","components/ListItemLink.tsx","components/Loading.tsx","components/NavigationDrawer.tsx","components/UpdateReadyDialogue.tsx","components/WorksOfflineDialogue.tsx","pages/critterpedia/index.ts","pages/turnips/index.ts","pages/index.tsx","i18n.ts","context.ts","prototype_mods.ts","pages/turnips/data.ts"],"names":["_upgrade0","window","localStorage","settings","JSON","stringify","theme","hemisphere","islandName","playerName","timeOffset","useSystemTime","useTwelveHourTime","critterpedia","data","bugs","fish","i","push","obtained","modelled","turnips","buy","mon","am","pm","tue","wed","thu","fri","sat","previousPattern","Pattern","UNKNOWN","firstBuy","dataVersion","VERSION","_upgrade1","parse","stored","dataLastUpdated","Date","toISOString","token","_upgrade2","PreNumber","ND_0_1_0","ND_0_2_0","Versions","isLocalhost","Boolean","location","hostname","match","register","config","navigator","URL","process","href","origin","addEventListener","swUrl","fetch","headers","then","response","contentType","get","status","indexOf","serviceWorker","ready","registration","unregister","reload","registerValidSW","catch","console","log","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","error","commonProps","MuiTextField","variant","MuiSelect","MuiFormControl","MuiDialogTitle","style","textAlign","createMuiTheme","palette","type","opacity","elevations","0","main","1","2","3","4","6","8","12","16","24","transparent","winter","contrastText","spring","summer","autumn","primary","secondary","background","paper","default","text","hint","disabled","zIndex","appBar","props","overrides","MuiAppBar","colorPrimary","backgroundColor","color","colorSecondary","colorDefault","MuiDrawer","width","MuiCard","root","borderWidth","borderColor","borderStyle","MuiCardHeader","paddingBottom","MuiListItemIcon","dark","name","light","themes","App","undefined","upgrade","version","updateData","React","useState","setSettingsImpl","setSettings","value","useMemo","getTheme","updateReady","setUpdateReadyImpl","worksOffline","setWorksOfflineImpl","updateReadyDialogueOpen","setUpdateReadyDialogueOpen","worksOfflineDialogueOpen","setWorksOfflineDialogueOpen","setUpdateReady","setWorksOffline","useEffect","serviceWorkerRegistration","_","ThemeProvider","CssBaseline","setTheme","document","body","classList","add","setTimeout","remove","fallback","path","render","params","index","valueOr","to","load","exact","Button","onClick","open","setOpen","ReactDOM","basename","getElementById","_getTextWidthDiv","zip","getTextWidth","div","createElement","position","top","left","appendChild","innerText","clientWidth","getDefault","defaultValue","rv","isNaN","range","start","stop","step","Array","from","keys","Math","ceil","fill","map","x","y","all","values","reduce","res","valid","clone","obj","arrays","length","arr","minLength","nextArr","len","min","Infinity","fsum","input","sum","c","t","abs","UpdateReadyIcon","useTranslation","useTheme","Tooltip","title","aria-label","IconButton","replace","GetApp","success","WorksOfflineIcon","setStatus","OfflinePin","AppBar","Toolbar","edge","marginRight","setDrawerOpen","drawerOpen","flexGrow","gitInfo","ContribInfo","avatarUrl","ListItem","padding","button","component","target","ListItemAvatar","Avatar","alt","src","ListItemText","toLowerCase","InfoDialogue","Dialog","onClose","DialogTitle","DialogContent","Trans","i18nKey","commit","hash","textUnderlineOffset","gitRevision","numberFormatters","shortHash","Typography","List","DialogActions","LanguageDialogue","aria-labelledby","PaperProps","id","availableLocalisations","lang","key","setLang","initialRenders","AppFrame","startOpen","useMediaQuery","breakpoints","up","i18n","langOpen","setLangOpen","infoOpen","setInfoOpen","display","NavigationDrawer","changeLanguage","DrawerAdjust","active","children","Centred","className","matches","paddingLeft","transition","ListItemLink","icon","onSelect","renderLink","forwardRef","itemProps","ref","activeClassName","ListItemIcon","Loading","autoPlay","loop","muted","playsInline","DrawerContent","newTheme","Object","entries","pageData","route","Feedback","Info","Language","container","Hidden","smUp","Drawer","anchor","direction","xsDown","UpdateReadyDialogue","WorksOfflineDialogue","lazy","EmojiNature","ShowChart","jaCharMap","toString","m","use","Backend","LanguageDetector","initReactI18next","init","backend","loadPath","fallbackLng","debug","interpolation","escapeValue","react","transSupportBasicHtmlNodes","transKeepBasicHtmlNodesFor","supportedLngs","ns","defaultNS","defaultSettings","defaultTime","SettingsContext","createContext","TimeContext","TimeContextProvider","interval","time","setTime","windowInterval","setInterval","clearInterval","Provider","SettingsContextProvider","useNDContext","useContext","String","prototype","capitalise","this","charAt","toUpperCase","slice","rotated","by","concat","rotate","apply","splice","count","elem","filter","item","calculateOneRange","calculateFluctuatingPeriod","calculateDecreasingPeriod","calculateOneFluctuating","calculateFluctuating","calculateOneLargeSpike","calculateLargeSpike","calculateOneDecreasing","calculateDecreasing","calculateOneSmallSpike","calculateSmallSpike","makeRange","max","base","avg","rangeValid","CHANCE_FLUCTUATING","FLUCTUATING","LARGE_SPIKE","DECREASING","SMALL_SPIKE","AGGREGATE","CHANCE_LARGE_SPIKE","CHANCE_DECREASING","CHANCE_SMALL_SPIKE","price","minRate","maxRate","offset","prices","lowestRate","highestRate","minDecay","maxDecay","ranges","minRates","maxRates","recalculate","categoryChance","chance","hi1","hi23","phase1","dec1","dec2","phase2","hi3","phase3","phase4","phase5","pattern","hours","f","peakStart","peak1","peak2","peak3","peak4","peak5","rawMin","rawMax","peak","spike","end","flattenData","minPossibleData","maxPossibleData","dataMakesSense","user","calculate","chanceFluctuating","chanceLargeSpike","chanceDecreasing","chanceSmallSpike","flatData","result","totalProbability","newResult","aggregate","aggregateHour","resultHour","sort","a","b","postProcess","knownPattern","toMatch","next","done","emptyWeek","patternColours","Error"],"mappings":"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","file":"static/js/main.f3d0fe0b.chunk.js","sourcesContent":["import {Pattern} from './pages/turnips/data';\nimport {ThemeName} from './themes';\n\nfunction _upgrade0() {\n    if (!window.localStorage.settings) {\n        window.localStorage.settings = JSON.stringify({\n            theme: 'dark',\n            hemisphere: 'north',\n            islandName: 'ISLAND',\n            playerName: 'PLAYER',\n            timeOffset: 0,\n            useSystemTime: true,\n            useTwelveHourTime: false,\n        });\n    }\n    if (!window.localStorage.critterpedia) {\n        let data: Versions.ND_0_1_0.UserCritterpediaData = {\n            bugs: [],\n            fish: [],\n        };\n        for (let i = 0; i < 80; i++) {\n            data.bugs.push({obtained: false, modelled: false});\n            data.fish.push({obtained: false, modelled: false});\n        }\n        window.localStorage.critterpedia = JSON.stringify(data);\n    }\n    if (!window.localStorage.turnips) {\n        window.localStorage.turnips = JSON.stringify({\n            buy: null,\n            mon: {am: null, pm: null},\n            tue: {am: null, pm: null},\n            wed: {am: null, pm: null},\n            thu: {am: null, pm: null},\n            fri: {am: null, pm: null},\n            sat: {am: null, pm: null},\n            previousPattern: Pattern.UNKNOWN,\n            firstBuy: false,\n        });\n    }\n    window.localStorage.dataVersion = VERSION;\n    _upgrade1();\n}\nfunction _upgrade1() {\n    let data: Versions.ND_0_2_0.UserCritterpediaData = JSON.parse(window.localStorage.critterpedia); // guaranteed to exist due to _upgrade0\n    for (let i = 0; i < 80; i++) {\n        data.bugs[i].stored = 0;\n        data.fish[i].stored = 0;\n    }\n    window.localStorage.critterpedia = JSON.stringify(data);\n    let settings: Versions.ND_0_2_0.UserSettings = JSON.parse(window.localStorage.settings);\n    settings.dataLastUpdated = (new Date(0)).toISOString(); // always be the oldest data when converting\n    settings.token = ''; // when updating, we don't have a token\n\n}\nfunction _upgrade2() {\n    // latest version at time of writing\n}\n\nnamespace Versions {\n    export namespace PreNumber {\n        export interface UserHourData {\n            am: number | null;\n            pm: number | null;\n        }\n\n        export interface UserTurnipsData {\n            buy: number | null;\n            mon: UserHourData;\n            tue: UserHourData;\n            wed: UserHourData;\n            thu: UserHourData;\n            fri: UserHourData;\n            sat: UserHourData;\n            previousPattern: Pattern;\n            firstBuy: boolean;\n        }\n\n        export interface UserCritterData {\n            obtained: boolean;\n            modelled: boolean;\n        }\n\n        export interface UserCritterpediaData {\n            bugs: UserCritterData[];\n            fish: UserCritterData[];\n        }\n\n        export interface UserSettings {\n            theme: ThemeName;\n            hemisphere: \"north\" | \"south\";\n            playerName: string;\n            islandName: string;\n            timeOffset: number;\n            useSystemTime: boolean;\n            useTwelveHourTime: boolean;\n        }\n\n        export const upgrade = _upgrade0;\n    }\n    export namespace ND_0_1_0 {\n        export interface UserHourData {\n            am: number | null;\n            pm: number | null;\n        }\n\n        export interface UserTurnipsData {\n            buy: number | null;\n            mon: UserHourData;\n            tue: UserHourData;\n            wed: UserHourData;\n            thu: UserHourData;\n            fri: UserHourData;\n            sat: UserHourData;\n            previousPattern: Pattern;\n            firstBuy: boolean;\n        }\n\n        export interface UserCritterData {\n            obtained: boolean;\n            modelled: boolean;\n        }\n\n        export interface UserCritterpediaData {\n            bugs: UserCritterData[];\n            fish: UserCritterData[];\n        }\n\n        export interface UserSettings {\n            theme: ThemeName;\n            hemisphere: \"north\" | \"south\";\n            playerName: string;\n            islandName: string;\n            timeOffset: number;\n            useSystemTime: boolean;\n            useTwelveHourTime: boolean;\n        }\n\n        export const upgrade = _upgrade1;\n    }\n    export namespace ND_0_2_0 {\n        export interface UserHourData {\n            am: number | null;\n            pm: number | null;\n        }\n\n        export interface UserTurnipsData {\n            buy: number | null;\n            mon: UserHourData;\n            tue: UserHourData;\n            wed: UserHourData;\n            thu: UserHourData;\n            fri: UserHourData;\n            sat: UserHourData;\n            previousPattern: Pattern;\n            firstBuy: boolean;\n        }\n\n        export interface UserCritterData {\n            obtained: boolean;\n            modelled: boolean;\n            stored: number;\n        }\n\n        export interface UserCritterpediaData {\n            bugs: UserCritterData[];\n            fish: UserCritterData[];\n        }\n\n        export interface UserSettings {\n            theme: ThemeName;\n            hemisphere: \"north\" | \"south\";\n            playerName: string;\n            islandName: string;\n            timeOffset: number;\n            useSystemTime: boolean;\n            useTwelveHourTime: boolean;\n            dataLastUpdated: string;\n            token: string;\n        }\n\n        export const upgrade = _upgrade2;\n    }\n}\nexport const VERSION = '0.2.0';\nexport type UserHourData = Versions.ND_0_2_0.UserHourData;\nexport type UserTurnipsData = Versions.ND_0_2_0.UserTurnipsData;\nexport type UserCritterData = Versions.ND_0_2_0.UserCritterData;\nexport type UserCritterpediaData = Versions.ND_0_2_0.UserCritterpediaData;\nexport type UserSettings = Versions.ND_0_2_0.UserSettings;\nexport function updateData() {\n    switch (window.localStorage.dataVersion) {\n        case undefined:\n            Versions.PreNumber.upgrade();\n            break;\n        case '0.1.0':\n            Versions.ND_0_1_0.upgrade();\n            break;\n        case '0.2.0':\n            Versions.ND_0_2_0.upgrade();\n            break;\n        default:\n            console.log(\"Please do not mess with your data!\");\n            window.localStorage.version = VERSION;\n    }\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n    onSuccess?: (registration: ServiceWorkerRegistration) => void;\n    onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                        'worker. To learn more, visit https://cra.link/PWA'\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then((registration) => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                'New content is available and will be used when all ' +\n                                'tabs for this page are closed. See https://cra.link/PWA.'\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.');\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch((error) => {\n            console.error('Error during service worker registration:', error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl, {\n        headers: {'Service-Worker': 'script'},\n    })\n        .then((response) => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type');\n            if (\n                response.status === 404 ||\n                (contentType != null && contentType.indexOf('javascript') === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then((registration) => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log('No internet connection found. App is running in offline mode.');\n        });\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready\n            .then((registration) => {\n                registration.unregister();\n            })\n            .catch((error) => {\n                console.error(error.message);\n            });\n    }\n}","import {ComponentsProps} from \"@material-ui/core/styles/props\";\n\nconst commonProps: ComponentsProps = {\n    MuiTextField: {\n        variant: 'filled',\n    },\n    MuiSelect: {\n        variant: 'filled',\n    },\n    MuiFormControl: {\n        variant: 'filled',\n    },\n    MuiDialogTitle: {\n        style: {textAlign: 'center'},\n    }\n};\nexport {commonProps};\n","import {createMuiTheme} from '@material-ui/core/styles';\nimport '../prototype_mods';\nimport {commonProps} from './common_theme_data';\n\n\n// Dark theme\nconst theme = createMuiTheme({\n    palette: {\n        type: 'dark',\n        opacity: 0.3,\n        elevations: {\n            0: {main: '#1e1e1e'},\n            1: {main: '#292929'},\n            2: {main: '#2e2e2e'},\n            3: {main: '#303030'},\n            4: {main: '#323232'},\n            6: {main: '#373737'},\n            8: {main: '#393939'},\n            12: {main: '#3e3e3e'},\n            16: {main: '#404040'},\n            24: {main: '#424242'},\n        },\n        modelled: {\n            main: 'gold',\n            transparent: 'rgba(255, 215, 0, 0.3)',\n        },\n        winter: {\n            main: '#3c84c6',\n            transparent: 'rgba(60, 132, 198, 0.3)',\n            contrastText: 'rgba(0,0,0,87%)'\n        },\n        spring: {\n            main: '#38761c',\n            transparent: 'rgba(56, 118, 28, 0.3)',\n            contrastText: 'rgba(0,0,0,87%)'\n        },\n        summer: {\n            main: '#e69038',\n            transparent: 'rgba(230, 144, 56, 0.3)',\n            contrastText: 'rgba(0,0,0,87%)'\n        },\n        autumn: {\n            main: '#b45f04',\n            transparent: 'rgba(180, 95, 4, 0.3)',\n            contrastText: 'rgba(0,0,0,87%)'\n        },\n        primary: {\n            main: '#bb86fc',\n            contrastText: 'rgba(0,0,0,87%)',\n            transparent: 'rgba(187, 134, 252, 0.3)',\n        },\n        secondary: {\n            main: '#03dac6',\n            contrastText: 'rgba(0,0,0,87%)',\n        },\n        error: {\n            main: '#cf6679',\n            transparent: 'rgba(207, 102, 121, 0.3)',\n        },\n        background: {\n            paper: '#1e1e1e',\n            default: '#121212'\n        },\n        text: {\n            primary: 'rgba(255,255,255,87%)',\n            secondary: 'rgba(255,255,255,60%)',\n            hint: 'rgba(255,255,255,60%)',\n            disabled: 'rgba(255,255,255,38%)',\n        }\n    },\n    zIndex: {\n        appBar: 1250\n    },\n    props: commonProps,\n});\n\ntheme.overrides = {\n    MuiAppBar: {\n        colorPrimary: {\n            backgroundColor: theme.palette.background.paper,\n            color: theme.palette.primary.main,\n        },\n        colorSecondary: {\n            backgroundColor: theme.palette.background.paper,\n            color: theme.palette.secondary.main,\n        },\n        colorDefault: {\n            backgroundColor: theme.palette.background.paper,\n            color: theme.palette.text.primary,\n        }\n    },\n    MuiDrawer: {\n        paper: {\n            width: 240\n        }\n    },\n    MuiCard: {\n        root: {\n            borderWidth: 1,\n            borderColor: 'rgba(255, 255, 255, 8%)',\n            borderStyle: 'solid',\n        },\n    },\n    MuiCardHeader: {\n        root: {\n            paddingBottom: 0,\n            textAlign: 'center',\n        },\n    },\n    MuiListItemIcon: {\n        root: {\n            color: theme.palette.text.secondary,\n        }\n    }\n};\n\nexport default theme;","import {createMuiTheme} from '@material-ui/core/styles';\nimport '../prototype_mods';\nimport {commonProps} from './common_theme_data';\n\n// Normal or default theme\nconst theme = createMuiTheme({\n    palette: {\n        type: 'light',\n        opacity: 0.6,\n        elevations: {\n            0: {main: '#ffffff'},\n            1: {main: '#ffffff'},\n            2: {main: '#ffffff'},\n            3: {main: '#ffffff'},\n            4: {main: '#ffffff'},\n            6: {main: '#ffffff'},\n            8: {main: '#ffffff'},\n            12: {main: '#ffffff'},\n            16: {main: '#ffffff'},\n            24: {main: '#ffffff'},\n        },\n        modelled: {\n            main: '#fbc02d',\n            transparent: 'rgba(251, 192, 45, 0.5)',\n        },\n        winter: {\n            main: '#3c84c6',\n            transparent: 'rgba(60, 132, 198, 0.6)',\n            contrastText: 'rgba(0,0,0,87%)',\n        },\n        spring: {\n            main: '#38761c',\n            transparent: 'rgba(56, 118, 28, 0.6)',\n            contrastText: 'rgba(0,0,0,87%)',\n        },\n        summer: {\n            main: '#e69038',\n            transparent: 'rgba(230, 144, 56, 0.6)',\n            contrastText: 'rgba(0,0,0,87%)',\n        },\n        autumn: {\n            main: '#b45f04',\n            transparent: 'rgba(180, 95, 4, 0.6)',\n            contrastText: 'rgba(0,0,0,87%)',\n        },\n        primary: {\n            main: '#6200ee',\n            contrastText: 'rgba(255,255,255,87%)',\n            transparent: 'rgba(98, 0, 238, 0.5)',\n        },\n        secondary: {\n            main: '#03dac6',\n            contrastText: 'rgba(0,0,0,87%)',\n        },\n        error: {\n            main: '#b00020',\n            transparent: 'rgba(176, 0, 32, 0.5)',\n        },\n        background: {\n            paper: '#ffffff',\n            default: '#eeeeee'\n        },\n        text: {\n            primary: 'rgba(0,0,0,87%)',\n            secondary: 'rgba(0,0,0,60%)',\n            hint: 'rgba(0,0,0,60%)',\n            disabled: 'rgba(0,0,0,38%)',\n        }\n    },\n    zIndex: {\n        appBar: 1250\n    },\n    props: commonProps,\n});\n\ntheme.overrides = {\n    MuiDrawer: {\n        paper: {\n            width: 240\n        }\n    },\n    MuiCard: {\n        root: {\n            borderWidth: 1,\n            borderColor: 'transparent',\n            borderStyle: 'solid',\n        },\n    },\n    MuiCardHeader: {\n        root: {\n            paddingBottom: 0,\n            textAlign: 'center',\n        },\n    },\n};\n\nexport default theme;","import dark from './dark';\nimport light from './light';\n\ndark.name = 'dark';\nlight.name = 'light';\n\nconst themes = {\n    light,\n    dark,\n};\n\nexport type ThemeName = keyof typeof themes;\n\nexport default function getTheme(theme: ThemeName) {\n    return themes[theme];\n}","import {Button, CssBaseline, ThemeProvider} from '@material-ui/core';\nimport React, {Suspense} from 'react';\nimport {Route, Switch} from 'react-router';\nimport {Redirect} from 'react-router-dom';\nimport {AppFrame, Loading, UpdateReadyDialogue, WorksOfflineDialogue} from './components';\nimport {SettingsContextProvider, TimeContextProvider} from './context';\nimport {updateData} from './data';\nimport {valueOr} from './misc';\nimport {Critterpedia, Turnips} from './pages';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport getTheme from './themes';\nimport UserSettings from './user_settings';\n\nexport function App() {\n    updateData();\n    const [settings, setSettingsImpl] = React.useState(() => JSON.parse(window.localStorage.settings));\n    function setSettings(value: UserSettings) {\n        window.localStorage.settings = JSON.stringify(value);\n        setSettingsImpl(value);\n    }\n    function setTheme(value: 'dark' | 'light') {\n        document.body.classList.add(\"no-transition\");\n        setSettings({...settings, theme: value});\n        // document.body.classList.remove(\"no-transition\");\n        setTimeout(() => document.body.classList.remove(\"no-transition\"), 10);\n    }\n    function setPlayerName(value: string) {\n        setSettings({...settings, playerName: value});\n    }\n    function setIslandName(value: string) {\n        setSettings({...settings, islandName: value});\n    }\n    function setHemisphere(value: 'north' | 'south') {\n        setSettings({...settings, hemisphere: value});\n    }\n    function setTimeOffset(value: number) {\n        setSettings({...settings, timeOffset: value});\n    }\n    function setUseSystemTime(value: boolean) {\n        setSettings({...settings, useSystemTime: value});\n    }\n    function setUseTwelveHourTime(value: boolean) {\n        setSettings({...settings, useTwelveHourTime: value});\n    }\n    const theme = React.useMemo(\n        () => getTheme(settings.theme),\n        [settings]\n    );\n    const [updateReady, setUpdateReadyImpl] = React.useState(false);\n    const [worksOffline, setWorksOfflineImpl] = React.useState(false);\n    const [updateReadyDialogueOpen, setUpdateReadyDialogueOpen] = React.useState(false);\n    const [worksOfflineDialogueOpen, setWorksOfflineDialogueOpen] = React.useState(false);\n    function setUpdateReady(value: boolean) {\n        console.log('setUpdateReady:', value);\n        setUpdateReadyImpl(value);\n        setUpdateReadyDialogueOpen(value);\n    }\n    function setWorksOffline(value: boolean) {\n        console.log('setWorksOffline:', value);\n        setWorksOfflineImpl(value);\n        setWorksOfflineDialogueOpen(value);\n    }\n    React.useEffect(() => {\n        serviceWorkerRegistration.register({onUpdate: _ => setUpdateReady(true), onSuccess: _ => setWorksOffline(true)});\n    }, []);\n    return <ThemeProvider theme={theme}>\n        <TimeContextProvider>\n            <SettingsContextProvider settings={settings}>\n                <CssBaseline />\n                <AppFrame setTheme={setTheme} updateReady={updateReady} worksOffline={worksOffline} setWorksOffline={setWorksOffline}>\n                    <Suspense fallback={<Loading />}>\n                        <Switch>\n                            <Route path=\"/critterpedia/:type/:index\" render={({match}) => {\n                                let type = match.params.type;\n                                let index = valueOr(match.params.index, -1);\n                                if (!(type === 'bug' || type === 'fish') || index < 0 || index > 79) {\n                                    return <Redirect to=\"/critterpedia\" />;\n                                }\n                                return <Critterpedia load={{type, index}} />;\n                            }}>\n                            </Route>\n                            <Route path=\"/critterpedia\" exact>\n                                <Critterpedia />\n                            </Route>\n                            <Route path=\"/critterpedia\">\n                                <Redirect to=\"/critterpedia\" />\n                            </Route>\n                            <Route path=\"/turnips\">\n                                <Turnips />\n                            </Route>\n                            <Route path=\"/loading\">\n                                <Loading />\n                            </Route>\n                            <Route path=\"/test\">\n                                <Button onClick={() => setUpdateReady(!updateReady)}>\n                                    Toggle <code>updateReady</code> (currently <code>{'' + updateReady}</code>)\n                                </Button>\n                                <Button onClick={() => setWorksOffline(!worksOffline)}>\n                                    Toggle <code>worksOffline</code> (currently <code>{'' + worksOffline}</code>)\n                                </Button>\n                            </Route>\n                        </Switch>\n                    </Suspense>\n                </AppFrame>\n                <WorksOfflineDialogue open={worksOfflineDialogueOpen} setOpen={setWorksOfflineDialogueOpen} />\n                <UpdateReadyDialogue open={updateReadyDialogueOpen} setOpen={setUpdateReadyDialogueOpen} />\n            </SettingsContextProvider>\n        </TimeContextProvider>\n    </ThemeProvider>;\n}\n","import React, {Suspense} from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport {App} from './App';\nimport {Loading} from './components';\nimport './i18n';\nimport './index.scss';\nimport {root} from './misc';\n\nif (process.env.NODE_ENV !== 'production') {\n    const {whyDidYouUpdate} = require('why-did-you-update');\n    // whyDidYouUpdate(React);\n}\n\nReactDOM.render(\n    <Suspense fallback={<Loading />}>\n        <BrowserRouter basename={root}>\n            <App />\n        </BrowserRouter>\n    </Suspense>,\n    document.getElementById('root')\n);\nexport {};\n","export type Dict<V> = {\n    [key: string]: V;\n};\nvar _getTextWidthDiv: HTMLDivElement;\nfunction setUpDiv() {\n    _getTextWidthDiv = document.createElement(\"div\");\n    _getTextWidthDiv.style.position = 'absolute';\n    _getTextWidthDiv.style.top = '-9999px';\n    _getTextWidthDiv.style.left = '-9999px';\n    // _getTextWidthDiv.ariaHidden = true;\n    document.body.appendChild(_getTextWidthDiv);\n    return _getTextWidthDiv;\n}\nexport function getTextWidth(text: string) {\n    var div = _getTextWidthDiv ?? (setUpDiv());\n    div.innerText = text;\n    return div.clientWidth;\n}\n\nexport const root = '/nookdata';\nexport function getDefault<T>(data: string | undefined, defaultValue: T) {\n    if (data !== undefined) {\n        return JSON.parse(data) as T;  // todo: figure out how to type-check this\n    } else {\n        return defaultValue;\n    }\n}\nexport function valueOr(data: String | undefined, defaultValue: number) {\n    let rv = data ? +data : defaultValue;\n    if (!isNaN(rv)) {\n        return rv;\n    } else {\n        return defaultValue;\n    }\n}\nexport function booleanOr(data: String | undefined, defaultValue: boolean) {\n    switch (data) {\n        case 'true':\n            return true;\n        case 'false':\n            return false;\n        default:\n            return defaultValue;\n    }\n}\n\nexport function range(start: number, stop: number | undefined = undefined, step: number = 1): Array<number> {\n    if (stop === undefined) {\n        stop = start;\n        start = 0;\n        if (step == 1) {  // benefit from optimisation where I don't use two-arg range\n            return Array.from(Array(stop).keys());\n        }\n    }\n    return Array(\n        Math.ceil((stop! - start) / step)\n    ).fill(start).map((x, y) => x + y * step);\n}\n\nexport function all(values: boolean[]) {\n    return values.reduce((res, valid) => (res && valid), true);\n}\nexport function any(values: boolean[]) {\n    return values.reduce((res, valid) => (res || valid), false);\n}\n\nexport type DeepPartial<T> = {\n    [P in keyof T]?: T[P] extends object ? DeepPartial<T[P]> : T[P];\n};\nexport function clone<T>(obj: T): T {\n    return JSON.parse(JSON.stringify(obj));\n}\nexport type Tuple<T extends unknown[]> = [...T];\nexport type SoA<T extends unknown[]> = {[I in keyof T]: T[I][]};\nexport function* zip<T extends unknown[]>(...arrays: SoA<T>) {\n    if (arrays.length < 1) {\n        return;\n    }\n    for (let i = 0; i < arrays.reduce((minLength, nextArr) => {\n        let len = nextArr.length;\n        return Math.min(minLength, len);\n    }, Infinity); i++) {\n        yield arrays.map((arr) => arr[i]) as Tuple<T>;\n    }\n}\n\nexport type Filter<T, V> = {\n    [P in keyof T]: T[P] extends V ? never : T[P];\n};\n\nexport function fsum(input: Array<number>) {\n    // a translation of NeumaierSum\n    // source: https://en.wikipedia.org/wiki/Kahan_summation_algorithm#Further_enhancements\n    let sum = 0;\n    let c = 0;  // A running compensation for lost low-order bits.\n    for (let value of input) {\n        let t = sum + value;\n        if (Math.abs(sum) >= Math.abs(value)) {\n            c += (sum - t) + value;  // If sum is bigger, low-order digits of value are lost\n        } else {\n            c += (value - t) + sum;  // Else low-order digits of sum are lost.\n        }\n        sum = t;\n    }\n    return sum + c;  // Correction only applied once in the very end.\n}\n","import {IconButton, Tooltip, useTheme} from \"@material-ui/core\";\nimport {GetApp} from \"@material-ui/icons\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function UpdateReadyIcon() {\n    const {t} = useTranslation('service');\n    const theme = useTheme();\n    return <Tooltip title={t('service:available_update.frame_button') as string} aria-label={t('service:available_update.title')}>\n        <IconButton onClick={() => (window.location.replace(window.location.href))}>\n            <GetApp style={{color: theme.palette.success.main}} />\n        </IconButton>\n    </Tooltip>;\n}","import {IconButton, Tooltip} from \"@material-ui/core\";\nimport {OfflinePin} from \"@material-ui/icons\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function WorksOfflineIcon({setStatus}: {setStatus: (value: boolean) => void;}) {\n    const {t} = useTranslation('service');\n    return <Tooltip title={t('service:available_offline.frame_button') as string}>\n        <IconButton onClick={() => setStatus(false)}>\n            <OfflinePin />\n        </IconButton>\n    </Tooltip>;\n}","import {AppBar as TopAppBar, IconButton, Toolbar} from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport React from 'react';\nimport UpdateReadyIcon from './UpdateReadyIcon';\nimport WorksOfflineIcon from './WorksOfflineIcon';\n\n\ninterface AppBarProps {\n    setDrawerOpen: (value: boolean) => void;\n    drawerOpen: boolean;\n    title: React.ReactNode;\n    updateReady: boolean;\n    worksOffline: boolean;\n    setWorksOffline: (value: boolean) => void;\n}\n\nfunction AppBar(props: AppBarProps) {\n    return (\n        <>\n            <TopAppBar position=\"fixed\">\n                <Toolbar>\n                    <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\"\n                        style={{marginRight: 16}}\n                        onClick={() => props.setDrawerOpen(!props.drawerOpen)}>\n                        <MenuIcon />\n                    </IconButton>\n                    <div style={{flexGrow: 1}}>\n                        {props.title}\n                    </div>\n                    {props.updateReady && <UpdateReadyIcon />}\n                    {props.worksOffline && <WorksOfflineIcon setStatus={props.setWorksOffline} />}\n                </Toolbar>\n            </TopAppBar>\n            <Toolbar />\n        </>\n    );\n}\nexport default AppBar;\n","import {Avatar, Button, Dialog, DialogActions, DialogContent, DialogTitle, List, ListItem, ListItemAvatar, ListItemText, Tooltip, Typography, useTheme} from '@material-ui/core';\nimport GitInfo from 'react-git-info/macro';\nimport {Trans, useTranslation} from 'react-i18next';\nimport {Centred} from '.';\nimport {numberFormatters} from '../i18n';\n\nconst gitInfo = GitInfo();\n\ninterface ContribInfoProps {\n    name: string;\n    avatarUrl: string;\n    t: (key: string, props?: Object) => string;\n}\nfunction ContribInfo({name, avatarUrl, t}: ContribInfoProps) {\n    return <Tooltip\n        title={t('core:info.contrib.tooltip', {name}) as string}\n    >\n        <ListItem\n            style={{\n                padding: \"8px 32px\"\n            }}\n            button\n            component=\"a\"\n            href={`https://github.com/Starwort/nookdata_v2/commits?author=${name}`}\n            target=\"_blank\"\n        >\n            <ListItemAvatar>\n                <Avatar alt={t('core:alt.avatar', {name})} src={avatarUrl} />\n            </ListItemAvatar>\n            <ListItemText primary={name} secondary={t(`core:info.contrib.${name.toLowerCase()}`)} />\n        </ListItem>\n    </Tooltip>;\n}\n\ninterface InfoDialogueProps {\n    open: boolean;\n    setOpen: (value: boolean) => void;\n}\n\nexport default function InfoDialogue(props: InfoDialogueProps) {\n    const {t} = useTranslation('core');\n    const theme = useTheme();\n    return <Dialog open={props.open} onClose={() => props.setOpen(false)}>\n        <DialogTitle>\n            {t('core:info.title')}\n        </DialogTitle>\n        <DialogContent>\n            <Trans i18nKey=\"core:info.description\" t={t}>\n                You are currently viewing NookData revision\n                <a href={`https://github.com/Starwort/nookdata_v2/commit/${gitInfo.commit.hash}`} style={{color: theme.palette.primary.main, textUnderlineOffset: 2}}>\n                    {{gitRevision: numberFormatters[t('core:misc.code')](gitInfo.commit.shortHash)}}\n                </a>.\n            </Trans>\n            <br />\n            <br />\n            <Centred>\n                <Typography variant=\"subtitle1\">{t('core:info.contrib.title')}</Typography>\n            </Centred>\n            <Centred>\n                <Typography variant=\"subtitle2\">{t('core:info.contrib.subtitle')}</Typography>\n            </Centred>\n        </DialogContent>\n        <List>\n            <ContribInfo name=\"Starwort\" avatarUrl={\"https://avatars.githubusercontent.com/u/16487249\"} t={t} />\n            <ContribInfo name=\"EloLeChan\" avatarUrl={\"https://avatars.githubusercontent.com/u/83836335\"} t={t} />\n            <ContribInfo name=\"Hevy5125\" avatarUrl={\"https://avatars.githubusercontent.com/u/85719789\"} t={t} />\n        </List>\n        <DialogActions>\n            <Button onClick={() => props.setOpen(false)}>\n                {t('core:ui.dismiss')}\n            </Button>\n        </DialogActions>\n    </Dialog>;\n}","import {Dialog, DialogTitle, List, ListItem, ListItemText} from \"@material-ui/core\";\nimport {useTranslation} from \"react-i18next\";\nimport {availableLocalisations} from \"../i18n\";\n\ninterface LanguageDialogueProps {\n    open: boolean;\n    setLang: (lang: string) => void;\n}\n\nexport default function LanguageDialogue(props: LanguageDialogueProps) {\n    const {t} = useTranslation('core');\n    return <Dialog aria-labelledby=\"lang-dialogue-title\" open={props.open} PaperProps={{style: {width: 250}}}>\n        <DialogTitle style={{textAlign: 'center'}} id=\"lang-dialogue-title\">{t('core:lang.choose')}</DialogTitle>\n        <List>\n            {availableLocalisations.map(lang =>\n                <ListItem key={lang} style={{textAlign: 'center'}} button onClick={() => props.setLang(lang)}>\n                    <ListItemText primary={t(`core:lang.${lang}`)} />\n                </ListItem>\n            )}\n        </List>\n    </Dialog>;\n}","import {Typography, useMediaQuery, useTheme} from '@material-ui/core';\nimport React from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {AppBar, DrawerAdjust, NavigationDrawer} from '.';\nimport {ThemeName} from '../themes';\nimport InfoDialogue from './InfoDialogue';\nimport LanguageDialogue from './LanguageDialogue';\n\n\ninterface AppFrameProps {\n    setTheme: (value: ThemeName) => void;\n    children: React.ReactNode;\n    updateReady: boolean;\n    worksOffline: boolean;\n    setWorksOffline: (value: boolean) => void;\n}\nlet initialRenders = 10;\nexport default function AppFrame(props: AppFrameProps) {\n    const theme = useTheme();\n    const startOpen = useMediaQuery(theme.breakpoints.up('lg'));\n    const [drawerOpen, setDrawerOpen] = React.useState(false);\n    if (initialRenders) {\n        console.log(initialRenders, startOpen);\n        if (startOpen && !drawerOpen) {\n            initialRenders = 0;\n            setDrawerOpen(true);\n        } else {\n            initialRenders--;\n        }\n    }\n    const {t, i18n} = useTranslation('core');\n    const [langOpen, setLangOpen] = React.useState(false);\n    const [infoOpen, setInfoOpen] = React.useState(false);\n    return (\n        <>\n            <AppBar\n                setDrawerOpen={setDrawerOpen}\n                drawerOpen={drawerOpen}\n                title={\n                    <Typography variant=\"h6\">\n                        <div\n                            style={{\n                                color: theme.palette.winter.main,\n                                display: 'inline'\n                            }}\n                        >\n                            {t('title.a')}\n                        </div>\n                        <div\n                            style={{\n                                color: theme.palette.summer.main,\n                                display: 'inline'\n                            }}\n                        >\n                            {t('title.b')}\n                        </div>\n                    </Typography>\n                }\n                updateReady={props.updateReady}\n                worksOffline={props.worksOffline}\n                setWorksOffline={props.setWorksOffline}\n            />\n            <NavigationDrawer\n                open={drawerOpen}\n                setOpen={setDrawerOpen}\n                setTheme={props.setTheme}\n                setInfoOpen={setInfoOpen}\n                setLangOpen={setLangOpen}\n            />\n            <LanguageDialogue open={langOpen} setLang={(value: string) => {\n                i18n.changeLanguage(value);\n                setLangOpen(false);\n            }} />\n            <InfoDialogue open={infoOpen} setOpen={setInfoOpen} />\n            <DrawerAdjust active={drawerOpen}>\n                {props.children}\n            </DrawerAdjust>\n        </>\n    );\n}\n","import React from 'react';\nimport './Centred.scss';\ninterface CentredProps {\n    children: React.ReactNode;\n}\nexport default function Centred(props: CentredProps) {\n    return <div className=\"centred\">\n        {props.children}\n    </div>;\n}","import {useMediaQuery, useTheme} from '@material-ui/core';\nimport React from 'react';\n\ninterface DrawerAdjustProps {\n    active: boolean;\n    children: React.ReactNode;\n}\nexport default function DrawerAdjust(props: DrawerAdjustProps) {\n    const theme = useTheme();\n    const matches = useMediaQuery(theme.breakpoints.up('sm'));\n    return (\n        <div style={{paddingLeft: 240 * (+props.active) * (+matches), transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms'}}>\n            {props.children}\n        </div>\n    );\n}\n","import {ListItem, ListItemIcon, ListItemText} from '@material-ui/core';\nimport React from 'react';\nimport {NavLink, NavLinkProps} from 'react-router-dom';\n\ninterface ListItemLinkProps {\n    icon?: React.ReactNode;\n    primary: string;\n    to: string;\n    exact?: boolean;\n    onSelect?: () => void;\n}\nexport default function ListItemLink({icon, primary, to, exact, onSelect}: ListItemLinkProps) {\n    const renderLink = React.useMemo(\n        () => React.forwardRef<any, Omit<NavLinkProps, 'to'>>((itemProps, ref) => (\n            <NavLink to={to} ref={ref} {...itemProps} activeClassName=\"Mui-selected\" exact={exact} />\n        )),\n        [to]\n    );\n    return <ListItem button component={renderLink} onClick={onSelect}>\n        {icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\n        <ListItemText primary={primary} />\n    </ListItem>;\n}\n","import {useTheme} from '@material-ui/core';\nimport './Loading.scss';\nexport default function Loading() {\n    const theme = useTheme();\n    return <video autoPlay loop muted playsInline className={`loader ${theme.name}`}>\n        <source src=\"assets/shared/loading.gif.webm\" type=\"video/webm\" />\n        <source src=\"assets/shared/loading.gif.mp4\" type=\"video/mp4\" />\n    </video>;\n}","import {Drawer, Hidden, List, ListItem, ListItemIcon, ListItemText, Toolbar, useTheme} from '@material-ui/core';\nimport {Feedback, Info, Language} from '@material-ui/icons';\nimport DarkModeIcon from '@material-ui/icons/Brightness4';\nimport LightModeIcon from '@material-ui/icons/Brightness7';\nimport {useTranslation} from 'react-i18next';\nimport {ListItemLink} from '.';\nimport {pageData} from '../pages';\nimport {ThemeName} from '../themes';\n\ninterface DrawerContentProps {\n    onSelect?: () => void;\n    setTheme: (theme: ThemeName) => void;\n    setInfoOpen: (value: boolean) => void;\n    setLangOpen: (value: boolean) => void;\n}\nfunction DrawerContent({\n    onSelect,\n    setTheme,\n    setInfoOpen,\n    setLangOpen,\n}: DrawerContentProps) {\n    const {t} = useTranslation('core');\n    const theme = useTheme();\n    const newTheme: ThemeName = theme.name === 'dark' ? 'light' : 'dark';\n    return <>\n        <List>\n            {Object.entries(pageData).map(([route, data]) => (\n                <ListItemLink key={route} to={route} icon={data.icon} primary={t(data.title)} onSelect={onSelect} />\n            ))}\n        </List>\n        <div style={{flexGrow: 1}} />\n        <ListItem button component=\"a\" href=\"https://discord.gg/jahp5wd\" target=\"_blank\">\n            <ListItemIcon>\n                <Feedback />\n            </ListItemIcon>\n            <ListItemText primary={t('core:sidebar.support')} />\n        </ListItem>\n        <ListItem button onClick={() => {setInfoOpen(true); if (onSelect) {onSelect();} }}>\n            <ListItemIcon>\n                <Info />\n            </ListItemIcon>\n            <ListItemText primary={t('core:sidebar.about')} />\n        </ListItem>\n        <ListItem button onClick={() => {setLangOpen(true); if (onSelect) {onSelect();} }}>\n            <ListItemIcon>\n                <Language />\n            </ListItemIcon>\n            <ListItemText primary={t('core:sidebar.lang')} />\n        </ListItem>\n        <ListItem button onClick={() => {setTheme(newTheme); if (onSelect) {onSelect();} }}>\n            <ListItemIcon>\n                {\n                    newTheme === 'dark'\n                        ? <DarkModeIcon />\n                        : <LightModeIcon />\n                }\n            </ListItemIcon>\n            <ListItemText primary={t('core:sidebar.theme')} />\n        </ListItem>\n    </>;\n}\n\ninterface NavigationDrawerProps {\n    open: boolean;\n    setOpen: (value: boolean) => void;\n    setTheme: (theme: ThemeName) => void;\n    setInfoOpen: (value: boolean) => void;\n    setLangOpen: (value: boolean) => void;\n}\n\n\nexport default function NavigationDrawer(props: NavigationDrawerProps) {\n    const theme = useTheme();\n    const {t} = useTranslation('core');\n    const container = window !== undefined ? () => window.document.body : undefined;\n    return <>\n        <Hidden smUp>\n            <Drawer\n                variant=\"temporary\"\n                container={container}\n                anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n                open={props.open}\n                onClose={() => props.setOpen(false)}\n            >\n                <DrawerContent\n                    onSelect={() => props.setOpen(false)}\n                    setTheme={props.setTheme}\n                    setInfoOpen={props.setInfoOpen}\n                    setLangOpen={props.setLangOpen}\n                />\n            </Drawer>\n        </Hidden>\n        <Hidden xsDown>\n            <Drawer\n                variant=\"persistent\"\n                anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n                open={props.open}\n            >\n                <Toolbar />\n                <DrawerContent\n                    setTheme={props.setTheme}\n                    setInfoOpen={props.setInfoOpen}\n                    setLangOpen={props.setLangOpen}\n                />\n            </Drawer>\n        </Hidden>\n    </>;\n}\n","import {Button, Dialog, DialogActions, DialogContent, DialogTitle} from '@material-ui/core';\nimport {useTranslation} from 'react-i18next';\ninterface UpdateReadyDialogueProps {\n    open: boolean;\n    setOpen: (value: boolean) => void;\n}\n\nexport default function UpdateReadyDialogue(props: UpdateReadyDialogueProps) {\n    const {t} = useTranslation(['service', 'core']);\n    return <Dialog open={props.open} onClose={() => props.setOpen(false)}>\n        <DialogTitle>{t('service:available_update.title')}</DialogTitle>\n        <DialogContent>\n            {t('service:available_update.content')}\n        </DialogContent>\n        <DialogActions>\n            <Button variant=\"text\" onClick={() => (window.location.replace(window.location.href))}>{t('service:available_update.reload')}</Button>\n            <Button variant=\"text\" onClick={() => props.setOpen(false)}>{t('core:ui.dismiss')}</Button>\n        </DialogActions>\n    </Dialog>;\n}","import {Button, Dialog, DialogActions, DialogContent, DialogTitle} from '@material-ui/core';\nimport {useTranslation} from 'react-i18next';\ninterface WorksOfflineDialogueProps {\n    open: boolean;\n    setOpen: (value: boolean) => void;\n}\n\nexport default function WorksOfflineDialogue(props: WorksOfflineDialogueProps) {\n    const {t} = useTranslation(['service', 'core']);\n    return <Dialog open={props.open} onClose={() => props.setOpen(false)}>\n        <DialogTitle>{t('service:available_offline.title')}</DialogTitle>\n        <DialogContent>\n            {t('service:available_offline.content')}\n        </DialogContent>\n        <DialogActions>\n            <Button variant=\"text\" onClick={() => props.setOpen(false)}>{t('core:ui.dismiss')}</Button>\n        </DialogActions>\n    </Dialog>;\n}","import {lazy} from 'react';\nexport default lazy(() => import('./page'));","import {lazy} from 'react';\nexport default lazy(() => import('./page'));\n","import {EmojiNature, ShowChart} from '@material-ui/icons';\nimport React from 'react';\nimport {Dict} from '../misc';\nimport Critterpedia from './critterpedia';\nimport Turnips from './turnips';\n\nexport {Critterpedia};\nexport {Turnips};\n\ninterface PageData {\n    title: string;\n    icon: React.ReactNode;\n}\nexport const pageData: Dict<PageData> = {\n    '/critterpedia': {\n        title: 'core:pages.critterpedia',\n        icon: <EmojiNature />,\n    },\n    '/turnips': {\n        title: 'core:pages.turnips',\n        icon: <ShowChart />,\n    },\n};","import i18n from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport Backend from 'i18next-http-backend';\nimport {initReactI18next} from 'react-i18next';\nimport {Dict, root} from './misc';\n\nexport const availableLocalisations = ['en', 'fr', 'ja'];\n\nconst jaCharMap: Dict<string> = {\n    '0': '',\n    '1': '',\n    '2': '',\n    '3': '',\n    '4': '',\n    '5': '',\n    '6': '',\n    '7': '',\n    '8': '',\n    '9': '',\n    'a': '',\n    'b': '',\n    'c': '',\n    'd': '',\n    'e': '',\n    'f': '',\n};\nexport const numberFormatters: Dict<(value: number | string) => string> = {\n    'en': (value) => value.toString(),\n    'fr': (value) => value.toString(),\n    'ja': (value) => value.toString().replace(/[012456789abcdef]/g, (m) => jaCharMap[m]),\n};\n\ni18n.use(Backend)\n    .use(LanguageDetector)\n    .use(initReactI18next)\n    .init({\n        backend: {loadPath: root + '/assets/i18n/{{lng}}/{{ns}}.json'},\n        fallbackLng: 'en',\n        debug: process.env.NODE_ENV == 'development',\n\n        interpolation: {\n            escapeValue: false, // not needed for react as it escapes by default\n        },\n        react: {\n            transSupportBasicHtmlNodes: true,\n            transKeepBasicHtmlNodesFor: ['br', 'big', 'small', 'ruby', 'rt'],\n        },\n        supportedLngs: availableLocalisations,\n        ns: 'core',\n        defaultNS: 'core',\n    });","import React, {useContext} from \"react\";\nimport UserSettings from \"./user_settings\";\n\nconst defaultSettings: UserSettings = {\n    theme: 'dark',\n    hemisphere: 'north',\n    islandName: 'Gloverboia',\n    playerName: 'Starwort',\n    timeOffset: 0,\n    useSystemTime: true,\n    useTwelveHourTime: true,\n    dataLastUpdated: '1970-01-01T00:00:00.000Z',\n    token: '',\n};\nconst defaultTime = new Date();\nexport const SettingsContext = React.createContext<UserSettings>(defaultSettings);\nexport const TimeContext = React.createContext<Date>(defaultTime);\n\ninterface TimeContextProps {\n    interval?: number;\n    children: React.ReactNode;\n}\n\nexport function TimeContextProvider({interval, children}: TimeContextProps) {\n    const [time, setTime] = React.useState(defaultTime);\n    React.useEffect(() => {\n        let windowInterval = window.setInterval(() => setTime(new Date()), interval ?? 500);\n        return () => {\n            window.clearInterval(windowInterval);\n        };\n    }, [interval]);\n    return React.createElement(\n        TimeContext.Provider,\n        {value: time},\n        children,\n    );\n}\n\ninterface SettingsContextProps {\n    settings: UserSettings;\n    children: React.ReactElement[];\n}\n\nexport function SettingsContextProvider({settings, children}: SettingsContextProps) {\n    return React.createElement(\n        SettingsContext.Provider,\n        {value: settings},\n        children,\n    );\n}\nexport function useTime() {\n    return useContext(TimeContext);\n}\nexport function useSettings() {\n    return useContext(SettingsContext);\n}\nexport function useNDContext() {\n    return {time: useTime(), settings: useSettings()};\n}\n","import {ThemeName} from \"./themes\";\n\ndeclare global {\n    interface String {\n        capitalise: () => String;\n    }\n    interface Array<T> {\n        rotated: (by: number) => Array<T>;\n        rotate: (by: number) => Array<T>;\n        count: (elem: T) => number;\n    }\n}\nString.prototype.capitalise = function () {\n    return this.charAt(0).toUpperCase() + this.slice(1);\n};\nArray.prototype.rotated = function (by: number) {\n    by = by % this.length;\n    return this.slice(by, this.length).concat(this.slice(0, by));\n};\nArray.prototype.rotate = function (by: number) {\n    by = by % this.length;\n    while (this.length && by < 0) by += this.length;\n    this.push.apply(this, this.splice(0, by));\n    return this;\n};\nArray.prototype.count = function (elem) {\n    return this.filter(item => item === elem).length;\n};\n\ndeclare module \"react\" {\n    interface CSSProperties {\n        '--progress'?: string | number;\n    }\n}\n\ndeclare module \"@material-ui/core/styles/createMuiTheme\" {\n    interface Theme {\n        name: ThemeName;\n    }\n}\n\ndeclare module \"@material-ui/core/styles/createPalette\" {\n    interface ElevationColourValue {\n        main: string;\n    }\n\n    interface ElevationColour {\n        0: ElevationColourValue;\n        1: ElevationColourValue;\n        2: ElevationColourValue;\n        3: ElevationColourValue;\n        4: ElevationColourValue;\n        6: ElevationColourValue;\n        8: ElevationColourValue;\n        12: ElevationColourValue;\n        16: ElevationColourValue;\n        24: ElevationColourValue;\n    }\n    interface PaletteColor {\n        transparent?: string;\n    }\n    interface SimplePaletteColorOptions {\n        transparent?: string;\n    }\n    interface Palette {\n        elevations: ElevationColour;\n        opacity: number;\n        modelled: Palette['primary'];\n        spring: Palette['primary'];\n        summer: Palette['primary'];\n        autumn: Palette['primary'];\n        winter: Palette['primary'];\n    }\n    interface PaletteOptions {\n        elevations: ElevationColour;\n        opacity: number;\n        modelled: PaletteOptions['primary'];\n        spring: PaletteOptions['primary'];\n        summer: PaletteOptions['primary'];\n        autumn: PaletteOptions['primary'];\n        winter: PaletteOptions['primary'];\n    }\n}\nexport {};\n","import {UserHourData, UserTurnipsData} from '../../data';\nimport {all, Filter, fsum, range, zip} from \"../../misc\";\nimport {ThemeName} from '../../themes';\nexport type {UserHourData, UserTurnipsData};\n\nexport enum Pattern {\n    FLUCTUATING,\n    LARGE_SPIKE,\n    DECREASING,\n    SMALL_SPIKE,\n    UNKNOWN,\n    AGGREGATE,\n}\n\ntype PatternDictionary = {\n    [K in Pattern]: number;\n};\n\nexport interface Range {\n    min: number;\n    max: number;\n    avg: number;\n}\n\nexport interface TurnipsResult {\n    pattern: Filter<Pattern, Pattern.UNKNOWN>;\n    chance: number;\n    hours: Range[];\n}\n\nfunction makeRange(min: number, max: number, base: number) {\n    let avg = (min + max) / 2 * base + 0.5;  // just trust me, this should be right\n    min = Math.ceil(min * base);\n    max = Math.ceil(max * base);\n    return {min, max, avg};\n}\n\nfunction rangeValid(range: Range, value: number | null) {\n    return (value === null) || (range.min <= value && value <= range.max);\n}\n\ntype FlatData = (number | null)[];\n\nconst CHANCE_FLUCTUATING: PatternDictionary = {\n    [Pattern.FLUCTUATING]: 0.2,\n    [Pattern.LARGE_SPIKE]: 0.5,\n    [Pattern.DECREASING]: 0.25,\n    [Pattern.SMALL_SPIKE]: 0.45,\n    [Pattern.UNKNOWN]: 0.25,\n    [Pattern.AGGREGATE]: 0.25,\n};\n\nconst CHANCE_LARGE_SPIKE: PatternDictionary = {\n    [Pattern.FLUCTUATING]: 0.3,\n    [Pattern.LARGE_SPIKE]: 0.05,\n    [Pattern.DECREASING]: 0.45,\n    [Pattern.SMALL_SPIKE]: 0.25,\n    [Pattern.UNKNOWN]: 0.25,\n    [Pattern.AGGREGATE]: 0.25,\n};\n\nconst CHANCE_DECREASING: PatternDictionary = {\n    [Pattern.FLUCTUATING]: 0.15,\n    [Pattern.LARGE_SPIKE]: 0.2,\n    [Pattern.DECREASING]: 0.05,\n    [Pattern.SMALL_SPIKE]: 0.15,\n    [Pattern.UNKNOWN]: 0.25,\n    [Pattern.AGGREGATE]: 0.25,\n};\n\nconst CHANCE_SMALL_SPIKE: PatternDictionary = {\n    [Pattern.FLUCTUATING]: 0.35,\n    [Pattern.LARGE_SPIKE]: 0.25,\n    [Pattern.DECREASING]: 0.25,\n    [Pattern.SMALL_SPIKE]: 0.15,\n    [Pattern.UNKNOWN]: 0.25,\n    [Pattern.AGGREGATE]: 0.25,\n};\n\nfunction* calculateOneRange(buy: number, price: number | null, minRate: number, maxRate: number) {\n    let range = makeRange(minRate, maxRate, buy);\n    if (!rangeValid(range, price)) {\n        return;\n    }\n    yield price ? {min: price, max: price, avg: price} : range;\n}\nfunction* calculateFluctuatingPeriod(buy: number, data: FlatData, offset: number, length: number, minRate: number, maxRate: number) {\n    let range = makeRange(minRate, maxRate, buy);\n    let prices = data.slice(offset, offset + length);\n    if (!all(prices.map((price) => (rangeValid(range, price))))) {\n        return;\n    }\n    yield prices.map((price) => (price ? {min: price, max: price, avg: price} : range));\n}\n\nfunction lowestRate(buy: number, price: number) {\n    return (price - 1) / buy;\n}\nfunction highestRate(buy: number, price: number) {\n    return price / buy;\n}\n\nfunction* calculateDecreasingPeriod(\n    buy: number,\n    data: FlatData,\n    offset: number,\n    length: number,\n    minRate: number,\n    maxRate: number,\n    minDecay: number,\n    maxDecay: number\n) {\n    let prices = data.slice(offset, offset + length);\n    let ranges: Range[] = [];\n    let minRates = [minRate];\n    let maxRates = [maxRate];\n    let recalculate = false;\n    for (let i = 0; i < length; i++) {\n        let price = prices[i];\n        if (price) {\n            let minRate = lowestRate(buy, price);\n            let maxRate = highestRate(buy, price);\n            if (maxRate < minRates[i] || minRate > maxRates[i]) {\n                return;  // impossible pattern\n            }\n            ranges.push({min: price, max: price, avg: price});\n            minRates[i] = minRate;\n            maxRates[i] = maxRate;\n            recalculate = true;  // need to ensure previous values make sense\n        } else {\n            ranges.push(makeRange(minRates[i], maxRates[i], buy));\n        }\n        minRates.push(minRates[i] - maxDecay);\n        maxRates.push(maxRates[i] - minDecay);\n    }\n    if (recalculate) {\n        // make sure previous values make sense\n        for (let i = length - 2; i >= 0; i--) {\n            if (minRates[i] < minRates[i + 1]) {\n                minRates[i] = minRates[i + 1] + minDecay;  // increment it the smallest amount to be valid\n                ranges[i].min = Math.ceil(minRates[i] * buy);\n                ranges[i].avg = (minRates[i] + maxRates[i]) / 2 * buy + 0.5;\n            }\n        }\n    }\n    yield ranges;\n}\n\nfunction* calculateOneFluctuating(categoryChance: number, buy: number, data: FlatData) {\n    // generator abuse!!!!\n    const chance = categoryChance / (\n        7 // hi1 and hi23\n        * 2 // dec1 and dec2\n    );\n    for (let hi1 = 0; hi1 <= 6; hi1++) {\n        const hi23 = 7 - hi1;\n        for (let phase1 of calculateFluctuatingPeriod(buy, data, 1, hi1, 0.9, 1.4)) {\n            for (let dec1 of [2, 3]) {\n                const dec2 = 5 - dec1;\n                for (let phase2 of calculateDecreasingPeriod(buy, data, 1 + hi1, dec1, 0.6, 0.8, 0.04, 0.1)) {\n                    for (let hi3 = 0; hi3 < hi23; hi3++) {\n                        for (let phase3 of calculateFluctuatingPeriod(buy, data, 1 + hi1 + dec1, hi23 - hi3, 0.9, 1.4)) {\n                            for (let phase4 of calculateDecreasingPeriod(buy, data, 8 + dec1 - hi3, dec2, 0.6, 0.8, 0.04, 0.1)) {\n                                for (let phase5 of calculateFluctuatingPeriod(buy, data, 13 - hi3, hi3, 0.9, 1.4)) {\n                                    yield {\n                                        pattern: Pattern.FLUCTUATING,\n                                        chance: chance / hi23,\n                                        hours: [{min: buy, max: buy, avg: buy}, ...phase1, ...phase2, ...phase3, ...phase4, ...phase5]\n                                    };\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n\nfunction* calculateFluctuating(categoryChance: number, data: FlatData) {\n    if (data[0] !== null) {\n        yield* calculateOneFluctuating(categoryChance, data[0], data);\n    } else {\n        for (let i = 90; i <= 110; i++) {\n            yield* calculateOneFluctuating(categoryChance / 21, i, data);\n        }\n    }\n}\n\nfunction* calculateOneLargeSpike(categoryChance: number, buy: number, data: FlatData) {\n    for (let peakStart = 1; peakStart <= 7; peakStart++) {\n        for (let phase1 of calculateDecreasingPeriod(buy, data, 1, peakStart, 0.85, 0.9, 0.03, 0.05)) {\n            for (let peak1 of calculateOneRange(buy, data[1 + peakStart], 0.9, 1.4)) {\n                for (let peak2 of calculateOneRange(buy, data[2 + peakStart], 1.4, 2)) {\n                    for (let peak3 of calculateOneRange(buy, data[3 + peakStart], 2, 6)) {\n                        for (let peak4 of calculateOneRange(buy, data[4 + peakStart], 1.4, 2)) {\n                            for (let peak5 of calculateOneRange(buy, data[5 + peakStart], 0.9, 1.4)) {\n                                for (let phase3 of calculateFluctuatingPeriod(buy, data, 6 + peakStart, 7 - peakStart, 0.4, 0.9)) {\n                                    yield {\n                                        pattern: Pattern.LARGE_SPIKE,\n                                        chance: categoryChance / (\n                                            7\n                                            // * (7 - peakStart)\n                                        ),\n                                        hours: [{min: buy, max: buy, avg: buy}, ...phase1, peak1, peak2, peak3, peak4, peak5, ...phase3]\n                                    };\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n\nfunction* calculateLargeSpike(categoryChance: number, data: FlatData) {\n    if (data[0] !== null) {\n        yield* calculateOneLargeSpike(categoryChance, data[0], data);\n    } else {\n        for (let i = 90; i <= 110; i++) {\n            yield* calculateOneLargeSpike(categoryChance / 21, i, data);\n        }\n    }\n}\n\nfunction* calculateOneDecreasing(categoryChance: number, buy: number, data: FlatData) {\n    for (let hours of calculateDecreasingPeriod(buy, data, 1, 12, 0.85, 0.9, 0.03, 0.05)) {\n        yield {\n            pattern: Pattern.DECREASING,\n            chance: categoryChance,\n            hours: [{rawMin: buy, rawMax: buy, min: buy, max: buy, avg: buy}, ...hours]\n        };\n    }\n}\n\nfunction* calculateDecreasing(categoryChance: number, data: FlatData) {\n    if (data[0] !== null) {\n        yield* calculateOneDecreasing(categoryChance, data[0], data);\n    } else {\n        for (let i = 90; i <= 110; i++) {\n            yield* calculateOneDecreasing(categoryChance / 21, i, data);\n        }\n    }\n}\n\nfunction* calculateOneSmallSpike(categoryChance: number, buy: number, data: FlatData) {\n    for (let peakStart = 0; peakStart <= 7; peakStart++) {\n        for (let phase1 of calculateDecreasingPeriod(buy, data, 1, peakStart, 0.4, 0.9, 0.03, 0.05)) {\n            for (let phase2 of calculateFluctuatingPeriod(buy, data, 1 + peakStart, 2, 0.9, 1.4)) {\n                // ok what\n                // I'm just going to let it fluctuate for now\n                for (let peak of calculateFluctuatingPeriod(buy, data, 3 + peakStart, 3, 1.4, 2)) {\n                    const [start, spike, end] = peak;\n                    start.min -= 1;\n                    start.max -= 1;\n                    start.avg -= 1;\n                    end.min -= 1;\n                    end.max -= 1;\n                    end.avg -= 1;\n                    for (let phase3 of calculateDecreasingPeriod(buy, data, 6 + peakStart, 7 - peakStart, 0.4, 0.9, 0.03, 0.05)) {\n                        yield {\n                            pattern: Pattern.SMALL_SPIKE,\n                            chance: categoryChance / (\n                                8 // peakStart\n                                // * 2 // fluctuating period\n                                // * 3 // peak\n                            ),\n                            hours: [{min: buy, max: buy, avg: buy}, ...phase1, ...phase2, start, spike, end, ...phase3]\n                        };\n                    }\n                }\n            }\n        }\n    }\n}\n\nfunction* calculateSmallSpike(categoryChance: number, data: FlatData) {\n    if (data[0] !== null) {\n        yield* calculateOneSmallSpike(categoryChance, data[0], data);\n    } else {\n        for (let i = 90; i <= 110; i++) {\n            yield* calculateOneSmallSpike(categoryChance / 21, i, data);\n        }\n    }\n}\n\nfunction flattenData(data: UserTurnipsData): FlatData {\n    return [\n        data.buy,\n        data.mon.am,\n        data.mon.pm,\n        data.tue.am,\n        data.tue.pm,\n        data.wed.am,\n        data.wed.pm,\n        data.thu.am,\n        data.thu.pm,\n        data.fri.am,\n        data.fri.pm,\n        data.sat.am,\n        data.sat.pm,\n    ];\n}\nconst minPossibleData = [90, 36, 32, 27, 23, 18, 14, 9, 27, 23, 18, 14, 9];\nconst maxPossibleData = [110, 154, 154, 220, 660, 660, 660, 660, 660, 660, 660, 220, 219];\nexport function dataMakesSense(data: UserTurnipsData): boolean {\n    for (let [min, max, user] of zip(minPossibleData, maxPossibleData, flattenData(data))) {\n        if (user === null) {\n            continue;\n        }\n        if (user < min || user > max) {\n            return false;\n        }\n    }\n    return true;\n}\n\nconst minChance = 0.001;  // ignore anything < 0.1%\n\ninterface AggregateIntermediateResult {\n    min: number;\n    max: number;\n    sum: number;\n}\n\nfunction postProcess(result: TurnipsResult[]) {\n    if (!result.length) {\n        return result;\n    }\n    let totalProbability = fsum(result.map(i => i.chance));\n    let newResult = result.map(i => ({...i, chance: i.chance / totalProbability}));\n    let aggregate = newResult.reduce((aggregate: AggregateIntermediateResult[], value: TurnipsResult) => {\n        let result: AggregateIntermediateResult[] = [];\n        for (let [aggregateHour, resultHour] of zip(aggregate, value.hours)) {\n            result.push({\n                min: Math.min(aggregateHour.min, resultHour.min),\n                max: Math.max(aggregateHour.max, resultHour.max),\n                sum: aggregateHour.sum + resultHour.avg * value.chance,\n            });\n        }\n        return result;\n    }, range(13).map(i => ({min: Infinity, max: 0, sum: 0})));\n    newResult.push({\n        pattern: Pattern.AGGREGATE,\n        chance: 1,\n        hours: aggregate.map(({min, max, sum}) => ({min, max, avg: sum, rawMin: 0, rawMax: 0})),\n    });\n    // newResult = newResult.filter(i => i.chance > minChance);\n    return newResult.sort((a, b) => (b.chance - a.chance));\n}\n\nexport function calculate(data: UserTurnipsData): TurnipsResult[] {\n    if (!dataMakesSense(data)) {\n        return [];\n    }\n    let chanceFluctuating = CHANCE_FLUCTUATING[data.previousPattern];\n    let chanceLargeSpike = CHANCE_LARGE_SPIKE[data.previousPattern];\n    let chanceDecreasing = CHANCE_DECREASING[data.previousPattern];\n    let chanceSmallSpike = CHANCE_SMALL_SPIKE[data.previousPattern];\n    let flatData = flattenData(data);\n    let result = [\n        ...calculateFluctuating(chanceFluctuating, flatData),\n        ...calculateLargeSpike(chanceLargeSpike, flatData),\n        ...calculateDecreasing(chanceDecreasing, flatData),\n        ...calculateSmallSpike(chanceSmallSpike, flatData),\n    ];\n    // result.push(aggregate(result));\n    return postProcess(result);\n    // return result;\n}\n\nexport function knownPattern(data: UserTurnipsData): Pattern {\n    if (!dataMakesSense(data)) {\n        return Pattern.UNKNOWN;\n    }\n    let chanceFluctuating = CHANCE_FLUCTUATING[data.previousPattern];\n    let chanceLargeSpike = CHANCE_FLUCTUATING[data.previousPattern];\n    let chanceDecreasing = CHANCE_FLUCTUATING[data.previousPattern];\n    let chanceSmallSpike = CHANCE_FLUCTUATING[data.previousPattern];\n    let flatData = flattenData(data);\n    const isFluctuating = !calculateFluctuating(chanceFluctuating, flatData).next().done;\n    const isLargeSpike = !calculateLargeSpike(chanceLargeSpike, flatData).next().done;\n    const isDecreasing = !calculateDecreasing(chanceDecreasing, flatData).next().done;\n    const isSmallSpike = !calculateSmallSpike(chanceSmallSpike, flatData).next().done;\n    const toMatch = [isFluctuating, isLargeSpike, isDecreasing, isSmallSpike];\n    if (toMatch.count(true) != 1) {\n        return Pattern.UNKNOWN;\n    }\n    switch (toMatch.indexOf(true)) {\n        case 0:\n            return Pattern.FLUCTUATING;\n        case 1:\n            return Pattern.LARGE_SPIKE;\n        case 2:\n            return Pattern.DECREASING;\n        case 3:\n            return Pattern.SMALL_SPIKE;\n        default:\n            return Pattern.UNKNOWN;\n    }\n}\n\nexport const emptyWeek: UserTurnipsData = {\n    buy: null,\n    mon: {am: null, pm: null},\n    tue: {am: null, pm: null},\n    wed: {am: null, pm: null},\n    thu: {am: null, pm: null},\n    fri: {am: null, pm: null},\n    sat: {am: null, pm: null},\n    previousPattern: Pattern.UNKNOWN,\n    firstBuy: false,\n};\n\nexport const patternColours: {\n    [K in ThemeName]: {\n        [K in Pattern]: (chance: number) => string;\n    }\n} = {\n    dark: {\n        [Pattern.AGGREGATE]: (chance: number) => `rgba(255, 255, 255, ${chance})`,\n        [Pattern.FLUCTUATING]: (chance: number) => `rgba(255, 0, 0, ${chance})`,\n        [Pattern.LARGE_SPIKE]: (chance: number) => `rgba(0, 255, 0, ${chance})`,\n        [Pattern.DECREASING]: (chance: number) => `rgba(0, 255, 255, ${chance})`,\n        [Pattern.SMALL_SPIKE]: (chance: number) => `rgba(127, 0, 255, ${chance})`,\n        [Pattern.UNKNOWN]: (chance: number) => {throw new Error('wtf');},\n    },\n    light: {\n        [Pattern.AGGREGATE]: (chance: number) => `rgba(0, 0, 0, ${chance})`,\n        [Pattern.FLUCTUATING]: (chance: number) => `rgba(255, 0, 0, ${chance})`,\n        [Pattern.LARGE_SPIKE]: (chance: number) => `rgba(0, 255, 0, ${chance})`,\n        [Pattern.DECREASING]: (chance: number) => `rgba(0, 255, 255, ${chance})`,\n        [Pattern.SMALL_SPIKE]: (chance: number) => `rgba(127, 0, 255, ${chance})`,\n        [Pattern.UNKNOWN]: (chance: number) => {throw new Error('wtf');},\n    },\n};\n\n"],"sourceRoot":""}