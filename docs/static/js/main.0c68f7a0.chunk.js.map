{"version":3,"sources":["pages/turnips/data.ts","../node_modules/datejs/src/i18n sync /^/.//.*/.js$","misc.ts","serviceWorkerRegistration.ts","App.tsx","index.tsx","context.ts","components/dialogues/UpdateReadyIcon.tsx","components/dialogues/WorksOfflineIcon.tsx","components/AppBar.tsx","components/dialogues/InfoDialogue.tsx","components/AppFrame.tsx","components/Centred.tsx","components/dialogues/SettingsDialogue.tsx","components/dialogues/UpdateReadyDialogue.tsx","components/dialogues/WorksOfflineDialogue.tsx","components/DrawerAdjust.tsx","components/ListItemLink.tsx","components/Loading.tsx","assets/icons/discord.svg","components/NavigationDrawer.tsx","i18n.ts","pages/critterpedia/index.ts","pages/turnips/index.ts","pages/index.tsx","data.ts","themes/common_theme_data.ts","themes/dark.ts","themes/light.ts","themes/index.ts","prototype_mods.ts"],"names":["Pattern","calculateOneRange","calculateFluctuatingPeriod","calculateDecreasingPeriod","calculateOneFluctuating","calculateFluctuating","calculateOneLargeSpike","calculateLargeSpike","calculateOneDecreasing","calculateDecreasing","calculateOneSmallSpike","calculateSmallSpike","makeRange","min","max","base","avg","Math","ceil","rangeValid","range","value","CHANCE_FLUCTUATING","FLUCTUATING","LARGE_SPIKE","DECREASING","SMALL_SPIKE","UNKNOWN","AGGREGATE","CHANCE_LARGE_SPIKE","CHANCE_DECREASING","CHANCE_SMALL_SPIKE","buy","price","minRate","maxRate","data","offset","length","prices","slice","all","map","lowestRate","highestRate","minDecay","maxDecay","ranges","minRates","maxRates","recalculate","i","push","categoryChance","chance","hi1","hi23","phase1","dec1","dec2","phase2","hi3","phase3","phase4","phase5","pattern","hours","f","peakStart","peak1","peak2","peak3","peak4","peak5","rawMin","rawMax","peak","start","spike","end","flattenData","mon","am","pm","tue","wed","thu","fri","sat","minPossibleData","maxPossibleData","dataMakesSense","zip","user","calculate","chanceFluctuating","previousPattern","chanceLargeSpike","chanceDecreasing","chanceSmallSpike","flatData","result","totalProbability","fsum","newResult","aggregate","reduce","aggregateHour","resultHour","sum","Infinity","sort","a","b","postProcess","knownPattern","toMatch","next","done","count","indexOf","emptyWeek","firstBuy","patternColours","dark","Error","light","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","code","keys","Object","resolve","module","exports","_getTextWidthDiv","getTextWidth","text","div","document","createElement","style","position","top","left","body","appendChild","innerText","clientWidth","root","valueOr","defaultValue","rv","isNaN","stop","undefined","step","Array","from","fill","x","y","values","res","valid","clone","obj","JSON","parse","stringify","arrays","arr","minLength","nextArr","len","input","c","t","abs","months","weekdays","formatTime","date","twelveHour","precision","formatter","numberFormatters","hour","getHours","time","minute","getMinutes","padStart","second","getSeconds","formatDate","timeFormatterSettings","longhand","includeYear","includeTime","year","getFullYear","shortYear","toString","month","getMonth","monthName","day","getDate","weekday","getDay","useRerender","React","useState","setTick","useCallback","tick","isLocalhost","Boolean","window","location","hostname","match","register","config","navigator","URL","process","href","origin","addEventListener","swUrl","fetch","headers","then","response","contentType","get","status","serviceWorker","ready","registration","unregister","reload","registerValidSW","catch","console","log","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","error","App","useEffect","upgradeData","localStorage","settings","setSettingsImpl","theme","useMemo","getTheme","updateReady","setUpdateReadyImpl","worksOffline","setWorksOfflineImpl","updateReadyDialogueOpen","setUpdateReadyDialogueOpen","worksOfflineDialogueOpen","setWorksOfflineDialogueOpen","setUpdateReady","setWorksOffline","serviceWorkerRegistration","_","ThemeProvider","timeOffset","CssBaseline","setSettings","dataLastUpdated","Date","toISOString","fallback","path","render","type","params","index","to","load","exact","Button","onClick","open","setOpen","ReactDOM","basename","getElementById","defaultTime","TimeContext","createContext","DataContext","TimeContextProvider","interval","children","setTime","windowInterval","setInterval","addMilliseconds","clearInterval","Provider","DataContextProvider","rerender","critterpedia","turnips","updateData","bugs","entries","newBugData","bugData","assign","fish","newFishData","fishData","useTime","useContext","useData","UpdateReadyIcon","useTranslation","useTheme","Tooltip","title","aria-label","IconButton","replace","GetApp","color","palette","success","main","WorksOfflineIcon","setStatus","OfflinePin","AppBar","props","useMediaQuery","breakpoints","up","Toolbar","edge","marginRight","setDrawerOpen","drawerOpen","flexGrow","useTwelveHourTime","compileTime","gitInfo","ContribInfo","name","avatarUrl","ListItem","padding","button","component","target","ListItemAvatar","Avatar","alt","src","ListItemText","primary","secondary","toLowerCase","InfoDialogue","Dialog","onClose","DialogTitle","DialogContent","Trans","i18nKey","commit","hash","textUnderlineOffset","gitRevision","shortHash","buildTime","buildDate","Typography","variant","List","DialogActions","initialRenders","AppFrame","startOpen","settingsOpen","setSettingsOpen","infoOpen","setInfoOpen","winter","display","summer","NavigationDrawer","SettingsDialogue","DrawerAdjust","active","Centred","className","i18n","setDate","setTimeout","aria-labelledby","PaperProps","width","Grid","container","spacing","paddingTop","item","xs","sm","FormControl","fullWidth","InputLabel","Select","language","onChange","event","changeLanguage","labelId","availableLocalisations","lang","MenuItem","classList","add","remove","themeNames","FormControlLabel","control","Checkbox","checked","label","useSystemTime","TextField","newDate","set","millisecond","getTime","InputLabelProps","shrink","islandName","hemisphere","playerName","UpdateReadyDialogue","WorksOfflineDialogue","matches","paddingLeft","transition","ListItemLink","icon","onSelect","renderLink","forwardRef","itemProps","ref","activeClassName","ListItemIcon","Loading","autoPlay","loop","muted","playsInline","_g","_g2","_extends","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgDiscord","_ref","svgRef","titleId","xmlns","enableBackground","height","viewBox","d","ForwardRef","Discord","SvgIcon","DiscordSVG","DrawerContent","pageData","route","Info","Settings","Hidden","smUp","Drawer","anchor","direction","xsDown","jaCharMap","m","use","Backend","LanguageDetector","initReactI18next","init","backend","loadPath","fallbackLng","debug","interpolation","escapeValue","react","transSupportBasicHtmlNodes","transKeepBasicHtmlNodesFor","supportedLngs","ns","defaultNS","lazy","EmojiNature","ShowChart","PreNumber","obtained","modelled","Versions","ND_0_1_0","upgrade","stored","token","ND_0_2_0","turnipNoConfirm","ND_0_2_1","dataVersion","commonProps","MuiTextField","MuiSelect","MuiFormControl","MuiDialogTitle","textAlign","createMuiTheme","opacity","elevations","0","1","2","3","4","6","8","12","16","24","transparent","contrastText","spring","autumn","background","paper","default","hint","disabled","zIndex","appBar","overrides","MuiAppBar","colorPrimary","backgroundColor","colorSecondary","colorDefault","MuiDrawer","MuiCard","borderWidth","borderColor","borderStyle","MuiCardHeader","paddingBottom","MuiListItemIcon","themes","String","capitalise","charAt","toUpperCase","rotated","by","concat","rotate","splice","elem","filter"],"mappings":"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IACd,aAAc,IACd,kBAAmB,IACnB,kBAAmB,IACnB,aAAc,IACd,aAAc,IACd,kBAAmB,IACnB,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,cAAe,IACf,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,cAAe,IACf,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,cAAe,IACf,cAAe,IACf,cAAe,IACf,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,aAAc,IACd,cAAe,IACf,cAAe,IACf,cAAe,IACf,cAAe,IACf,cAAe,IACf,cAAe,IACf,aAAc,IACd,kBAAmB,IACnB,kBAAmB,IACnB,kBAAmB,IACnB,kBAAmB,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","file":"static/js/main.0c68f7a0.chunk.js","sourcesContent":["import {UserHourData, UserTurnipsData} from '../../data';\nimport {all, Filter, fsum, range, zip} from \"../../misc\";\nimport {ThemeName} from '../../themes';\nexport type {UserHourData, UserTurnipsData};\n\nexport enum Pattern {\n    FLUCTUATING,\n    LARGE_SPIKE,\n    DECREASING,\n    SMALL_SPIKE,\n    UNKNOWN,\n    AGGREGATE,\n}\n\ntype PatternDictionary = {\n    [K in Pattern]: number;\n};\n\nexport interface Range {\n    min: number;\n    max: number;\n    avg: number;\n}\n\nexport interface TurnipsResult {\n    pattern: Filter<Pattern, Pattern.UNKNOWN>;\n    chance: number;\n    hours: Range[];\n}\n\nfunction makeRange(min: number, max: number, base: number) {\n    let avg = (min + max) / 2 * base + 0.5;  // just trust me, this should be right\n    min = Math.ceil(min * base);\n    max = Math.ceil(max * base);\n    return {min, max, avg};\n}\n\nfunction rangeValid(range: Range, value: number | null) {\n    return (value === null) || (range.min <= value && value <= range.max);\n}\n\ntype FlatData = (number | null)[];\n\nconst CHANCE_FLUCTUATING: PatternDictionary = {\n    [Pattern.FLUCTUATING]: 0.2,\n    [Pattern.LARGE_SPIKE]: 0.5,\n    [Pattern.DECREASING]: 0.25,\n    [Pattern.SMALL_SPIKE]: 0.45,\n    [Pattern.UNKNOWN]: 0.25,\n    [Pattern.AGGREGATE]: 0.25,\n};\n\nconst CHANCE_LARGE_SPIKE: PatternDictionary = {\n    [Pattern.FLUCTUATING]: 0.3,\n    [Pattern.LARGE_SPIKE]: 0.05,\n    [Pattern.DECREASING]: 0.45,\n    [Pattern.SMALL_SPIKE]: 0.25,\n    [Pattern.UNKNOWN]: 0.25,\n    [Pattern.AGGREGATE]: 0.25,\n};\n\nconst CHANCE_DECREASING: PatternDictionary = {\n    [Pattern.FLUCTUATING]: 0.15,\n    [Pattern.LARGE_SPIKE]: 0.2,\n    [Pattern.DECREASING]: 0.05,\n    [Pattern.SMALL_SPIKE]: 0.15,\n    [Pattern.UNKNOWN]: 0.25,\n    [Pattern.AGGREGATE]: 0.25,\n};\n\nconst CHANCE_SMALL_SPIKE: PatternDictionary = {\n    [Pattern.FLUCTUATING]: 0.35,\n    [Pattern.LARGE_SPIKE]: 0.25,\n    [Pattern.DECREASING]: 0.25,\n    [Pattern.SMALL_SPIKE]: 0.15,\n    [Pattern.UNKNOWN]: 0.25,\n    [Pattern.AGGREGATE]: 0.25,\n};\n\nfunction* calculateOneRange(buy: number, price: number | null, minRate: number, maxRate: number) {\n    let range = makeRange(minRate, maxRate, buy);\n    if (!rangeValid(range, price)) {\n        return;\n    }\n    yield price ? {min: price, max: price, avg: price} : range;\n}\nfunction* calculateFluctuatingPeriod(buy: number, data: FlatData, offset: number, length: number, minRate: number, maxRate: number) {\n    let range = makeRange(minRate, maxRate, buy);\n    let prices = data.slice(offset, offset + length);\n    if (!all(prices.map((price) => (rangeValid(range, price))))) {\n        return;\n    }\n    yield prices.map((price) => (price ? {min: price, max: price, avg: price} : range));\n}\n\nfunction lowestRate(buy: number, price: number) {\n    return (price - 1) / buy;\n}\nfunction highestRate(buy: number, price: number) {\n    return price / buy;\n}\n\nfunction* calculateDecreasingPeriod(\n    buy: number,\n    data: FlatData,\n    offset: number,\n    length: number,\n    minRate: number,\n    maxRate: number,\n    minDecay: number,\n    maxDecay: number\n) {\n    let prices = data.slice(offset, offset + length);\n    let ranges: Range[] = [];\n    let minRates = [minRate];\n    let maxRates = [maxRate];\n    let recalculate = false;\n    for (let i = 0; i < length; i++) {\n        let price = prices[i];\n        if (price) {\n            let minRate = lowestRate(buy, price);\n            let maxRate = highestRate(buy, price);\n            if (maxRate < minRates[i] || minRate > maxRates[i]) {\n                return;  // impossible pattern\n            }\n            ranges.push({min: price, max: price, avg: price});\n            minRates[i] = minRate;\n            maxRates[i] = maxRate;\n            recalculate = true;  // need to ensure previous values make sense\n        } else {\n            ranges.push(makeRange(minRates[i], maxRates[i], buy));\n        }\n        minRates.push(minRates[i] - maxDecay);\n        maxRates.push(maxRates[i] - minDecay);\n    }\n    if (recalculate) {\n        // make sure previous values make sense\n        for (let i = length - 2; i >= 0; i--) {\n            if (minRates[i] < minRates[i + 1]) {\n                minRates[i] = minRates[i + 1] + minDecay;  // increment it the smallest amount to be valid\n                ranges[i].min = Math.ceil(minRates[i] * buy);\n                ranges[i].avg = (minRates[i] + maxRates[i]) / 2 * buy + 0.5;\n            }\n        }\n    }\n    yield ranges;\n}\n\nfunction* calculateOneFluctuating(categoryChance: number, buy: number, data: FlatData) {\n    // generator abuse!!!!\n    const chance = categoryChance / (\n        7 // hi1 and hi23\n        * 2 // dec1 and dec2\n    );\n    for (let hi1 = 0; hi1 <= 6; hi1++) {\n        const hi23 = 7 - hi1;\n        for (let phase1 of calculateFluctuatingPeriod(buy, data, 1, hi1, 0.9, 1.4)) {\n            for (let dec1 of [2, 3]) {\n                const dec2 = 5 - dec1;\n                for (let phase2 of calculateDecreasingPeriod(buy, data, 1 + hi1, dec1, 0.6, 0.8, 0.04, 0.1)) {\n                    for (let hi3 = 0; hi3 < hi23; hi3++) {\n                        for (let phase3 of calculateFluctuatingPeriod(buy, data, 1 + hi1 + dec1, hi23 - hi3, 0.9, 1.4)) {\n                            for (let phase4 of calculateDecreasingPeriod(buy, data, 8 + dec1 - hi3, dec2, 0.6, 0.8, 0.04, 0.1)) {\n                                for (let phase5 of calculateFluctuatingPeriod(buy, data, 13 - hi3, hi3, 0.9, 1.4)) {\n                                    yield {\n                                        pattern: Pattern.FLUCTUATING,\n                                        chance: chance / hi23,\n                                        hours: [{min: buy, max: buy, avg: buy}, ...phase1, ...phase2, ...phase3, ...phase4, ...phase5]\n                                    };\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n\nfunction* calculateFluctuating(categoryChance: number, data: FlatData) {\n    if (data[0] !== null) {\n        yield* calculateOneFluctuating(categoryChance, data[0], data);\n    } else {\n        for (let i = 90; i <= 110; i++) {\n            yield* calculateOneFluctuating(categoryChance / 21, i, data);\n        }\n    }\n}\n\nfunction* calculateOneLargeSpike(categoryChance: number, buy: number, data: FlatData) {\n    for (let peakStart = 1; peakStart <= 7; peakStart++) {\n        for (let phase1 of calculateDecreasingPeriod(buy, data, 1, peakStart, 0.85, 0.9, 0.03, 0.05)) {\n            for (let peak1 of calculateOneRange(buy, data[1 + peakStart], 0.9, 1.4)) {\n                for (let peak2 of calculateOneRange(buy, data[2 + peakStart], 1.4, 2)) {\n                    for (let peak3 of calculateOneRange(buy, data[3 + peakStart], 2, 6)) {\n                        for (let peak4 of calculateOneRange(buy, data[4 + peakStart], 1.4, 2)) {\n                            for (let peak5 of calculateOneRange(buy, data[5 + peakStart], 0.9, 1.4)) {\n                                for (let phase3 of calculateFluctuatingPeriod(buy, data, 6 + peakStart, 7 - peakStart, 0.4, 0.9)) {\n                                    yield {\n                                        pattern: Pattern.LARGE_SPIKE,\n                                        chance: categoryChance / (\n                                            7\n                                            // * (7 - peakStart)\n                                        ),\n                                        hours: [{min: buy, max: buy, avg: buy}, ...phase1, peak1, peak2, peak3, peak4, peak5, ...phase3]\n                                    };\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n\nfunction* calculateLargeSpike(categoryChance: number, data: FlatData) {\n    if (data[0] !== null) {\n        yield* calculateOneLargeSpike(categoryChance, data[0], data);\n    } else {\n        for (let i = 90; i <= 110; i++) {\n            yield* calculateOneLargeSpike(categoryChance / 21, i, data);\n        }\n    }\n}\n\nfunction* calculateOneDecreasing(categoryChance: number, buy: number, data: FlatData) {\n    for (let hours of calculateDecreasingPeriod(buy, data, 1, 12, 0.85, 0.9, 0.03, 0.05)) {\n        yield {\n            pattern: Pattern.DECREASING,\n            chance: categoryChance,\n            hours: [{rawMin: buy, rawMax: buy, min: buy, max: buy, avg: buy}, ...hours]\n        };\n    }\n}\n\nfunction* calculateDecreasing(categoryChance: number, data: FlatData) {\n    if (data[0] !== null) {\n        yield* calculateOneDecreasing(categoryChance, data[0], data);\n    } else {\n        for (let i = 90; i <= 110; i++) {\n            yield* calculateOneDecreasing(categoryChance / 21, i, data);\n        }\n    }\n}\n\nfunction* calculateOneSmallSpike(categoryChance: number, buy: number, data: FlatData) {\n    for (let peakStart = 0; peakStart <= 7; peakStart++) {\n        for (let phase1 of calculateDecreasingPeriod(buy, data, 1, peakStart, 0.4, 0.9, 0.03, 0.05)) {\n            for (let phase2 of calculateFluctuatingPeriod(buy, data, 1 + peakStart, 2, 0.9, 1.4)) {\n                // ok what\n                // I'm just going to let it fluctuate for now\n                for (let peak of calculateFluctuatingPeriod(buy, data, 3 + peakStart, 3, 1.4, 2)) {\n                    const [start, spike, end] = peak;\n                    start.min -= 1;\n                    start.max -= 1;\n                    start.avg -= 1;\n                    end.min -= 1;\n                    end.max -= 1;\n                    end.avg -= 1;\n                    for (let phase3 of calculateDecreasingPeriod(buy, data, 6 + peakStart, 7 - peakStart, 0.4, 0.9, 0.03, 0.05)) {\n                        yield {\n                            pattern: Pattern.SMALL_SPIKE,\n                            chance: categoryChance / (\n                                8 // peakStart\n                                // * 2 // fluctuating period\n                                // * 3 // peak\n                            ),\n                            hours: [{min: buy, max: buy, avg: buy}, ...phase1, ...phase2, start, spike, end, ...phase3]\n                        };\n                    }\n                }\n            }\n        }\n    }\n}\n\nfunction* calculateSmallSpike(categoryChance: number, data: FlatData) {\n    if (data[0] !== null) {\n        yield* calculateOneSmallSpike(categoryChance, data[0], data);\n    } else {\n        for (let i = 90; i <= 110; i++) {\n            yield* calculateOneSmallSpike(categoryChance / 21, i, data);\n        }\n    }\n}\n\nfunction flattenData(data: UserTurnipsData): FlatData {\n    return [\n        data.buy,\n        data.mon.am,\n        data.mon.pm,\n        data.tue.am,\n        data.tue.pm,\n        data.wed.am,\n        data.wed.pm,\n        data.thu.am,\n        data.thu.pm,\n        data.fri.am,\n        data.fri.pm,\n        data.sat.am,\n        data.sat.pm,\n    ];\n}\nconst minPossibleData = [90, 36, 32, 27, 23, 18, 14, 9, 27, 23, 18, 14, 9];\nconst maxPossibleData = [110, 154, 154, 220, 660, 660, 660, 660, 660, 660, 660, 220, 219];\nexport function dataMakesSense(data: UserTurnipsData): boolean {\n    for (let [min, max, user] of zip(minPossibleData, maxPossibleData, flattenData(data))) {\n        if (user === null) {\n            continue;\n        }\n        if (user < min || user > max) {\n            return false;\n        }\n    }\n    return true;\n}\n\nconst minChance = 0.001;  // ignore anything < 0.1%\n\ninterface AggregateIntermediateResult {\n    min: number;\n    max: number;\n    sum: number;\n}\n\nfunction postProcess(result: TurnipsResult[]) {\n    if (!result.length) {\n        return result;\n    }\n    let totalProbability = fsum(result.map(i => i.chance));\n    let newResult = result.map(i => ({...i, chance: i.chance / totalProbability}));\n    let aggregate = newResult.reduce((aggregate: AggregateIntermediateResult[], value: TurnipsResult) => {\n        let result: AggregateIntermediateResult[] = [];\n        for (let [aggregateHour, resultHour] of zip(aggregate, value.hours)) {\n            result.push({\n                min: Math.min(aggregateHour.min, resultHour.min),\n                max: Math.max(aggregateHour.max, resultHour.max),\n                sum: aggregateHour.sum + resultHour.avg * value.chance,\n            });\n        }\n        return result;\n    }, range(13).map(i => ({min: Infinity, max: 0, sum: 0})));\n    newResult.push({\n        pattern: Pattern.AGGREGATE,\n        chance: 1,\n        hours: aggregate.map(({min, max, sum}) => ({min, max, avg: sum, rawMin: 0, rawMax: 0})),\n    });\n    // newResult = newResult.filter(i => i.chance > minChance);\n    return newResult.sort((a, b) => (b.chance - a.chance));\n}\n\nexport function calculate(data: UserTurnipsData): TurnipsResult[] {\n    if (!dataMakesSense(data)) {\n        return [];\n    }\n    let chanceFluctuating = CHANCE_FLUCTUATING[data.previousPattern];\n    let chanceLargeSpike = CHANCE_LARGE_SPIKE[data.previousPattern];\n    let chanceDecreasing = CHANCE_DECREASING[data.previousPattern];\n    let chanceSmallSpike = CHANCE_SMALL_SPIKE[data.previousPattern];\n    let flatData = flattenData(data);\n    let result = [\n        ...calculateFluctuating(chanceFluctuating, flatData),\n        ...calculateLargeSpike(chanceLargeSpike, flatData),\n        ...calculateDecreasing(chanceDecreasing, flatData),\n        ...calculateSmallSpike(chanceSmallSpike, flatData),\n    ];\n    // result.push(aggregate(result));\n    return postProcess(result);\n    // return result;\n}\n\nexport function knownPattern(data: UserTurnipsData): Pattern {\n    if (!dataMakesSense(data)) {\n        return Pattern.UNKNOWN;\n    }\n    let chanceFluctuating = CHANCE_FLUCTUATING[data.previousPattern];\n    let chanceLargeSpike = CHANCE_FLUCTUATING[data.previousPattern];\n    let chanceDecreasing = CHANCE_FLUCTUATING[data.previousPattern];\n    let chanceSmallSpike = CHANCE_FLUCTUATING[data.previousPattern];\n    let flatData = flattenData(data);\n    const isFluctuating = !calculateFluctuating(chanceFluctuating, flatData).next().done;\n    const isLargeSpike = !calculateLargeSpike(chanceLargeSpike, flatData).next().done;\n    const isDecreasing = !calculateDecreasing(chanceDecreasing, flatData).next().done;\n    const isSmallSpike = !calculateSmallSpike(chanceSmallSpike, flatData).next().done;\n    const toMatch = [isFluctuating, isLargeSpike, isDecreasing, isSmallSpike];\n    if (toMatch.count(true) != 1) {\n        return Pattern.UNKNOWN;\n    }\n    switch (toMatch.indexOf(true)) {\n        case 0:\n            return Pattern.FLUCTUATING;\n        case 1:\n            return Pattern.LARGE_SPIKE;\n        case 2:\n            return Pattern.DECREASING;\n        case 3:\n            return Pattern.SMALL_SPIKE;\n        default:\n            return Pattern.UNKNOWN;\n    }\n}\n\nexport const emptyWeek: UserTurnipsData = {\n    buy: null,\n    mon: {am: null, pm: null},\n    tue: {am: null, pm: null},\n    wed: {am: null, pm: null},\n    thu: {am: null, pm: null},\n    fri: {am: null, pm: null},\n    sat: {am: null, pm: null},\n    previousPattern: Pattern.UNKNOWN,\n    firstBuy: false,\n};\n\nexport const patternColours: {\n    [K in ThemeName]: {\n        [K in Pattern]: (chance: number) => string;\n    }\n} = {\n    dark: {\n        [Pattern.AGGREGATE]: (chance: number) => `rgba(255, 255, 255, ${chance})`,\n        [Pattern.FLUCTUATING]: (chance: number) => `rgba(255, 0, 0, ${chance})`,\n        [Pattern.LARGE_SPIKE]: (chance: number) => `rgba(0, 255, 0, ${chance})`,\n        [Pattern.DECREASING]: (chance: number) => `rgba(0, 255, 255, ${chance})`,\n        [Pattern.SMALL_SPIKE]: (chance: number) => `rgba(127, 0, 255, ${chance})`,\n        [Pattern.UNKNOWN]: (chance: number) => {throw new Error('wtf');},\n    },\n    light: {\n        [Pattern.AGGREGATE]: (chance: number) => `rgba(0, 0, 0, ${chance})`,\n        [Pattern.FLUCTUATING]: (chance: number) => `rgba(255, 0, 0, ${chance})`,\n        [Pattern.LARGE_SPIKE]: (chance: number) => `rgba(0, 255, 0, ${chance})`,\n        [Pattern.DECREASING]: (chance: number) => `rgba(0, 255, 255, ${chance})`,\n        [Pattern.SMALL_SPIKE]: (chance: number) => `rgba(127, 0, 255, ${chance})`,\n        [Pattern.UNKNOWN]: (chance: number) => {throw new Error('wtf');},\n    },\n};\n\n","var map = {\n\t\"./af-ZA.js\": 137,\n\t\"./ar-AE.js\": 138,\n\t\"./ar-BH.js\": 139,\n\t\"./ar-DZ.js\": 140,\n\t\"./ar-EG.js\": 141,\n\t\"./ar-IQ.js\": 142,\n\t\"./ar-JO.js\": 143,\n\t\"./ar-KW.js\": 144,\n\t\"./ar-LB.js\": 145,\n\t\"./ar-LY.js\": 146,\n\t\"./ar-MA.js\": 147,\n\t\"./ar-OM.js\": 148,\n\t\"./ar-QA.js\": 149,\n\t\"./ar-SA.js\": 150,\n\t\"./ar-SY.js\": 151,\n\t\"./ar-TN.js\": 152,\n\t\"./ar-YE.js\": 153,\n\t\"./az-Cyrl-AZ.js\": 154,\n\t\"./az-Latn-AZ.js\": 155,\n\t\"./be-BY.js\": 156,\n\t\"./bg-BG.js\": 157,\n\t\"./bs-Latn-BA.js\": 158,\n\t\"./ca-ES.js\": 159,\n\t\"./cs-CZ.js\": 160,\n\t\"./cy-GB.js\": 161,\n\t\"./da-DK.js\": 162,\n\t\"./de-AT.js\": 163,\n\t\"./de-CH.js\": 164,\n\t\"./de-DE.js\": 165,\n\t\"./de-LI.js\": 166,\n\t\"./de-LU.js\": 167,\n\t\"./dv-MV.js\": 168,\n\t\"./el-GR.js\": 169,\n\t\"./en-029.js\": 170,\n\t\"./en-AU.js\": 171,\n\t\"./en-BZ.js\": 172,\n\t\"./en-CA.js\": 173,\n\t\"./en-GB.js\": 174,\n\t\"./en-IE.js\": 175,\n\t\"./en-JM.js\": 176,\n\t\"./en-NZ.js\": 177,\n\t\"./en-PH.js\": 178,\n\t\"./en-TT.js\": 179,\n\t\"./en-ZA.js\": 180,\n\t\"./en-ZW.js\": 181,\n\t\"./es-AR.js\": 182,\n\t\"./es-BO.js\": 183,\n\t\"./es-CL.js\": 184,\n\t\"./es-CO.js\": 185,\n\t\"./es-CR.js\": 186,\n\t\"./es-DO.js\": 187,\n\t\"./es-EC.js\": 188,\n\t\"./es-ES.js\": 189,\n\t\"./es-GT.js\": 190,\n\t\"./es-HN.js\": 191,\n\t\"./es-MX.js\": 192,\n\t\"./es-NI.js\": 193,\n\t\"./es-PA.js\": 194,\n\t\"./es-PE.js\": 195,\n\t\"./es-PR.js\": 196,\n\t\"./es-PY.js\": 197,\n\t\"./es-SV.js\": 198,\n\t\"./es-UY.js\": 199,\n\t\"./es-VE.js\": 200,\n\t\"./et-EE.js\": 201,\n\t\"./eu-ES.js\": 202,\n\t\"./fa-IR.js\": 203,\n\t\"./fi-FI.js\": 204,\n\t\"./fo-FO.js\": 205,\n\t\"./fr-BE.js\": 206,\n\t\"./fr-CA.js\": 207,\n\t\"./fr-CH.js\": 208,\n\t\"./fr-FR.js\": 209,\n\t\"./fr-LU.js\": 210,\n\t\"./fr-MC.js\": 211,\n\t\"./gl-ES.js\": 212,\n\t\"./gu-IN.js\": 213,\n\t\"./he-IL.js\": 214,\n\t\"./hi-IN.js\": 215,\n\t\"./hr-BA.js\": 216,\n\t\"./hr-HR.js\": 217,\n\t\"./hu-HU.js\": 218,\n\t\"./hy-AM.js\": 219,\n\t\"./id-ID.js\": 220,\n\t\"./is-IS.js\": 221,\n\t\"./it-CH.js\": 222,\n\t\"./it-IT.js\": 223,\n\t\"./ja-JP.js\": 224,\n\t\"./ka-GE.js\": 225,\n\t\"./kk-KZ.js\": 226,\n\t\"./kn-IN.js\": 227,\n\t\"./ko-KR.js\": 228,\n\t\"./kok-IN.js\": 229,\n\t\"./ky-KG.js\": 230,\n\t\"./lt-LT.js\": 231,\n\t\"./lv-LV.js\": 232,\n\t\"./mi-NZ.js\": 233,\n\t\"./mk-MK.js\": 234,\n\t\"./mn-MN.js\": 235,\n\t\"./mr-IN.js\": 236,\n\t\"./ms-BN.js\": 237,\n\t\"./ms-MY.js\": 238,\n\t\"./mt-MT.js\": 239,\n\t\"./nb-NO.js\": 240,\n\t\"./nl-BE.js\": 241,\n\t\"./nl-NL.js\": 242,\n\t\"./nn-NO.js\": 243,\n\t\"./ns-ZA.js\": 244,\n\t\"./pa-IN.js\": 245,\n\t\"./pl-PL.js\": 246,\n\t\"./pt-BR.js\": 247,\n\t\"./pt-PT.js\": 248,\n\t\"./quz-BO.js\": 249,\n\t\"./quz-EC.js\": 250,\n\t\"./quz-PE.js\": 251,\n\t\"./ro-RO.js\": 252,\n\t\"./ru-RU.js\": 253,\n\t\"./sa-IN.js\": 254,\n\t\"./se-FI.js\": 255,\n\t\"./se-NO.js\": 256,\n\t\"./se-SE.js\": 257,\n\t\"./sk-SK.js\": 258,\n\t\"./sl-SI.js\": 259,\n\t\"./sma-NO.js\": 260,\n\t\"./sma-SE.js\": 261,\n\t\"./smj-NO.js\": 262,\n\t\"./smj-SE.js\": 263,\n\t\"./smn-FI.js\": 264,\n\t\"./sms-FI.js\": 265,\n\t\"./sq-AL.js\": 266,\n\t\"./sr-Cyrl-BA.js\": 267,\n\t\"./sr-Cyrl-CS.js\": 268,\n\t\"./sr-Latn-BA.js\": 269,\n\t\"./sr-Latn-CS.js\": 270,\n\t\"./sv-FI.js\": 271,\n\t\"./sv-SE.js\": 272,\n\t\"./sw-KE.js\": 273,\n\t\"./syr-SY.js\": 274,\n\t\"./ta-IN.js\": 275,\n\t\"./te-IN.js\": 276,\n\t\"./th-TH.js\": 277,\n\t\"./tn-ZA.js\": 278,\n\t\"./tr-TR.js\": 279,\n\t\"./tt-RU.js\": 280,\n\t\"./uk-UA.js\": 281,\n\t\"./ur-PK.js\": 282,\n\t\"./uz-Cyrl-UZ.js\": 283,\n\t\"./uz-Latn-UZ.js\": 284,\n\t\"./vi-VN.js\": 285,\n\t\"./xh-ZA.js\": 286,\n\t\"./zh-CN.js\": 287,\n\t\"./zh-HK.js\": 288,\n\t\"./zh-MO.js\": 289,\n\t\"./zh-SG.js\": 290,\n\t\"./zh-TW.js\": 291,\n\t\"./zu-ZA.js\": 292\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 136;","import React from \"react\";\nimport {TFunction} from \"react-i18next\";\nimport {numberFormatters} from \"./i18n\";\n\nexport type Dict<V> = {\n    [key: string]: V;\n};\nvar _getTextWidthDiv: HTMLDivElement;\nfunction setUpDiv() {\n    _getTextWidthDiv = document.createElement(\"div\");\n    _getTextWidthDiv.style.position = 'absolute';\n    _getTextWidthDiv.style.top = '-9999px';\n    _getTextWidthDiv.style.left = '-9999px';\n    // _getTextWidthDiv.ariaHidden = true;\n    document.body.appendChild(_getTextWidthDiv);\n    return _getTextWidthDiv;\n}\nexport function getTextWidth(text: string) {\n    var div = _getTextWidthDiv ?? (setUpDiv());\n    div.innerText = text;\n    return div.clientWidth;\n}\n\nexport const root = '/nookdata';\nexport function getDefault<T>(data: string | undefined, defaultValue: T) {\n    if (data !== undefined) {\n        return JSON.parse(data) as T;  // todo: figure out how to type-check this\n    } else {\n        return defaultValue;\n    }\n}\nexport function valueOr(data: String | undefined, defaultValue: number) {\n    let rv = data ? +data : defaultValue;\n    if (!isNaN(rv)) {\n        return rv;\n    } else {\n        return defaultValue;\n    }\n}\nexport function booleanOr(data: String | undefined, defaultValue: boolean) {\n    switch (data) {\n        case 'true':\n            return true;\n        case 'false':\n            return false;\n        default:\n            return defaultValue;\n    }\n}\n\nexport function range(start: number, stop: number | undefined = undefined, step: number = 1): Array<number> {\n    if (stop === undefined) {\n        stop = start;\n        start = 0;\n        if (step == 1) {  // benefit from optimisation where I don't use two-arg range\n            return Array.from(Array(stop).keys());\n        }\n    }\n    return Array(\n        Math.ceil((stop! - start) / step)\n    ).fill(start).map((x, y) => x + y * step);\n}\n\nexport function all(values: boolean[]) {\n    return values.reduce((res, valid) => (res && valid), true);\n}\nexport function any(values: boolean[]) {\n    return values.reduce((res, valid) => (res || valid), false);\n}\n\nexport type DeepPartial<T> = {\n    [P in keyof T]?: T[P] extends object ? DeepPartial<T[P]> : T[P];\n};\nexport function clone<T>(obj: T): T {\n    return JSON.parse(JSON.stringify(obj));\n}\nexport type Tuple<T extends unknown[]> = [...T];\nexport type SoA<T extends unknown[]> = {[I in keyof T]: T[I][]};\nexport function* zip<T extends unknown[]>(...arrays: SoA<T>) {\n    if (arrays.length < 1) {\n        return;\n    }\n    for (let i = 0; i < arrays.reduce((minLength, nextArr) => {\n        let len = nextArr.length;\n        return Math.min(minLength, len);\n    }, Infinity); i++) {\n        yield arrays.map((arr) => arr[i]) as Tuple<T>;\n    }\n}\n\nexport type Filter<T, V> = {\n    [P in keyof T]: T[P] extends V ? never : T[P];\n};\n\nexport function fsum(input: Array<number>) {\n    // a translation of NeumaierSum\n    // source: https://en.wikipedia.org/wiki/Kahan_summation_algorithm#Further_enhancements\n    let sum = 0;\n    let c = 0;  // A running compensation for lost low-order bits.\n    for (let value of input) {\n        let t = sum + value;\n        if (Math.abs(sum) >= Math.abs(value)) {\n            c += (sum - t) + value;  // If sum is bigger, low-order digits of value are lost\n        } else {\n            c += (value - t) + sum;  // Else low-order digits of sum are lost.\n        }\n        sum = t;\n    }\n    return sum + c;  // Correction only applied once in the very end.\n}\n\nexport const months = [\n    \"core:time.month.jan\",\n    \"core:time.month.feb\",\n    \"core:time.month.mar\",\n    \"core:time.month.apr\",\n    \"core:time.month.may\",\n    \"core:time.month.jun\",\n    \"core:time.month.jul\",\n    \"core:time.month.aug\",\n    \"core:time.month.sep\",\n    \"core:time.month.oct\",\n    \"core:time.month.nov\",\n    \"core:time.month.dec\",\n];\nexport const weekdays = [\n    \"core:time.weekday.sun\",\n    \"core:time.weekday.mon\",\n    \"core:time.weekday.tue\",\n    \"core:time.weekday.wed\",\n    \"core:time.weekday.thu\",\n    \"core:time.weekday.fri\",\n    \"core:time.weekday.sat\",\n];\ninterface TimeFormatterSettings {\n    twelveHour: boolean;\n    precision: 'hour' | 'minute' | 'second';\n}\ninterface DateFormatterSettings<Time> {\n    longhand: boolean;\n    includeYear: boolean;\n    includeTime: Time;\n}\n\nexport function formatTime(\n    date: Date,\n    t: TFunction<\"core\">,\n    {twelveHour, precision}: TimeFormatterSettings\n): string {\n    const formatter = numberFormatters[t('core:misc.code')];\n    if (twelveHour) {\n        let hour = date.getHours() % 12;\n        if (hour == 0) {\n            hour = 12;\n        }\n        return t(\n            `core:time.twelve_hour.${(\n                date.getHours() < 12 ? 'am' : 'pm'\n            )}`,\n            {\n                time: t(\n                    `core:time.precision.${precision}`,\n                    {\n                        hour: formatter(hour),\n                        minute: formatter(date.getMinutes()).padStart(2, '0'),\n                        second: formatter(date.getSeconds()).padStart(2, '0'),\n                    },\n                ),\n            },\n        );\n    } else {\n        let minute = date.getMinutes();\n        if (precision == 'hour') {\n            precision = 'minute';\n            minute = 0;\n        }\n        return t(\n            `core:time.precision.${precision}`,\n            {\n                hour: formatter(date.getHours()).padStart(2, '0'),\n                minute: formatter(minute).padStart(2, '0'),\n                second: formatter(date.getSeconds()).padStart(2, '0'),\n            },\n        );\n    }\n}\n\nexport function formatDate(\n    date: Date,\n    t: TFunction<\"core\">,\n    {longhand, includeYear, includeTime}: DateFormatterSettings<true>,\n    timeFormatterSettings: TimeFormatterSettings,\n): string;\nexport function formatDate(\n    date: Date,\n    t: TFunction<\"core\">,\n    {longhand, includeYear, includeTime}: DateFormatterSettings<false>,\n): string;\nexport function formatDate(\n    date: Date,\n    t: TFunction<\"core\">,\n    {longhand, includeYear, includeTime}: DateFormatterSettings<boolean>,\n    timeFormatterSettings?: TimeFormatterSettings,\n): string {\n    return t(\n        `core:time.date.${(\n            longhand ? 'long' : 'short'\n        )}.${(\n            includeYear ? 'full' : 'short'\n        )}${(\n            includeTime ? '_with_time' : ''\n        )}`,\n        {\n            year: date.getFullYear(),\n            shortYear: (date.getFullYear() % 100).toString().padStart(2, '0'),\n            month: date.getMonth(),\n            monthName: t(months[date.getMonth()] + '.long'),\n            day: date.getDate(),\n            weekday: t(weekdays[date.getDay()] + '.long'),\n            time: includeTime ? formatTime(date, t, timeFormatterSettings!) : '',\n        }\n    );\n}\nexport function useRerender() {\n    const [, setTick] = React.useState(0);\n    const update = React.useCallback(() => {\n        setTick(tick => tick + 1);\n    }, []);\n    return update;\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n    onSuccess?: (registration: ServiceWorkerRegistration) => void;\n    onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                        'worker. To learn more, visit https://cra.link/PWA'\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then((registration) => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                'New content is available and will be used when all ' +\n                                'tabs for this page are closed. See https://cra.link/PWA.'\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.');\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch((error) => {\n            console.error('Error during service worker registration:', error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl, {\n        headers: {'Service-Worker': 'script'},\n    })\n        .then((response) => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type');\n            if (\n                response.status === 404 ||\n                (contentType != null && contentType.indexOf('javascript') === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then((registration) => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log('No internet connection found. App is running in offline mode.');\n        });\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready\n            .then((registration) => {\n                registration.unregister();\n            })\n            .catch((error) => {\n                console.error(error.message);\n            });\n    }\n}","import {Button, CssBaseline, ThemeProvider} from '@material-ui/core';\nimport React, {Suspense} from 'react';\nimport {Route, Switch} from 'react-router';\nimport {Redirect} from 'react-router-dom';\nimport {AppFrame, Loading, UpdateReadyDialogue, WorksOfflineDialogue} from './components';\nimport {DataContextProvider, TimeContextProvider} from './context';\nimport {upgradeData, UserSettings} from './data';\nimport {valueOr} from './misc';\nimport {Critterpedia, Turnips} from './pages';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport getTheme from './themes';\n\nexport function App() {\n    React.useEffect(upgradeData, []);\n    const [settings, setSettingsImpl] = React.useState(() => JSON.parse(window.localStorage.settings));\n    function setSettings(value: UserSettings) {\n        value.dataLastUpdated = new Date().toISOString();\n        window.localStorage.settings = JSON.stringify(value);\n        setSettingsImpl(value);\n    }\n    const theme = React.useMemo(\n        () => getTheme(settings.theme),\n        [settings]\n    );\n    const [updateReady, setUpdateReadyImpl] = React.useState(false);\n    const [worksOffline, setWorksOfflineImpl] = React.useState(false);\n    const [updateReadyDialogueOpen, setUpdateReadyDialogueOpen] = React.useState(false);\n    const [worksOfflineDialogueOpen, setWorksOfflineDialogueOpen] = React.useState(false);\n    function setUpdateReady(value: boolean) {\n        console.log('setUpdateReady:', value);\n        setUpdateReadyImpl(value);\n        setUpdateReadyDialogueOpen(value);\n    }\n    function setWorksOffline(value: boolean) {\n        console.log('setWorksOffline:', value);\n        setWorksOfflineImpl(value);\n        setWorksOfflineDialogueOpen(value);\n    }\n    React.useEffect(() => {\n        serviceWorkerRegistration.register({onUpdate: _ => setUpdateReady(true), onSuccess: _ => setWorksOffline(true)});\n    }, []);\n    return <ThemeProvider theme={theme}>\n        <DataContextProvider>\n            <TimeContextProvider offset={settings.timeOffset}>\n                <CssBaseline />\n                <AppFrame updateReady={updateReady} worksOffline={worksOffline} setWorksOffline={setWorksOffline} setSettings={setSettings}>\n                    <Suspense fallback={<Loading />}>\n                        <Switch>\n                            <Route path=\"/critterpedia/:type/:index\" render={({match}) => {\n                                let type = match.params.type;\n                                let index = valueOr(match.params.index, -1);\n                                if (!(type === 'bug' || type === 'fish') || index < 0 || index > 79) {\n                                    return <Redirect to=\"/critterpedia\" />;\n                                }\n                                return <Critterpedia load={{type, index}} />;\n                            }}>\n                            </Route>\n                            <Route path=\"/critterpedia\" exact>\n                                <Critterpedia />\n                            </Route>\n                            <Route path=\"/critterpedia\">\n                                <Redirect to=\"/critterpedia\" />\n                            </Route>\n                            <Route path=\"/turnips\">\n                                <Turnips />\n                            </Route>\n                            <Route path=\"/loading\">\n                                <Loading />\n                            </Route>\n                            <Route path=\"/test\">\n                                <Button onClick={() => setUpdateReady(!updateReady)}>\n                                    Toggle <code>updateReady</code> (currently <code>{'' + updateReady}</code>)\n                                </Button>\n                                <Button onClick={() => setWorksOffline(!worksOffline)}>\n                                    Toggle <code>worksOffline</code> (currently <code>{'' + worksOffline}</code>)\n                                </Button>\n                            </Route>\n                        </Switch>\n                    </Suspense>\n                </AppFrame>\n                <WorksOfflineDialogue open={worksOfflineDialogueOpen} setOpen={setWorksOfflineDialogueOpen} />\n                <UpdateReadyDialogue open={updateReadyDialogueOpen} setOpen={setUpdateReadyDialogueOpen} />\n            </TimeContextProvider>\n        </DataContextProvider>\n    </ThemeProvider>;\n}\n","import React, {Suspense} from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport {App} from './App';\nimport {Loading} from './components';\nimport './i18n';\nimport './index.scss';\nimport {root} from './misc';\n\n\nReactDOM.render(\n    <Suspense fallback={<Loading />}>\n        <BrowserRouter basename={root}>\n            <App />\n        </BrowserRouter>\n    </Suspense>,\n    document.getElementById('root')\n);\nexport {};\n","import 'datejs';\nimport React, {useContext} from \"react\";\nimport {upgradeData, UserCritterpediaData, UserSettings, UserTurnipsData} from \"./data\";\nimport {DeepPartial, useRerender} from \"./misc\";\n\nconst defaultTime = new Date();\ninterface AllData {\n    turnips: UserTurnipsData;\n    critterpedia: UserCritterpediaData;\n    settings: UserSettings;\n}\ninterface DataContext {\n    turnips: UserTurnipsData;\n    critterpedia: UserCritterpediaData;\n    settings: UserSettings;\n    updateData(data: DeepPartial<AllData>): void;\n}\nexport const TimeContext = React.createContext<Date>(defaultTime);\nexport const DataContext = React.createContext<DataContext>({} as DataContext);\n\ninterface ContextProviderProps {\n    children: React.ReactElement[] | React.ReactNode;\n}\n\ninterface TimeContextProps {\n    interval?: number;\n    offset: number;\n}\n\nexport function TimeContextProvider({interval, offset, children}: TimeContextProps & ContextProviderProps) {\n    const [time, setTime] = React.useState(defaultTime);\n    React.useEffect(() => {\n        let windowInterval = window.setInterval(() => setTime((new Date()).addMilliseconds(offset)), interval ?? 500);\n        return () => {\n            window.clearInterval(windowInterval);\n        };\n    }, [interval, offset]);\n    return React.createElement(\n        TimeContext.Provider,\n        {value: time},\n        children,\n    );\n}\n\nexport function DataContextProvider({children}: ContextProviderProps) {\n    React.useEffect(upgradeData, []);\n    const rerender = useRerender();\n    let settings = JSON.parse(window.localStorage.settings) as UserSettings;\n    let critterpedia = JSON.parse(window.localStorage.critterpedia) as UserCritterpediaData;\n    let turnips = JSON.parse(window.localStorage.turnips) as UserTurnipsData;\n    const updateData = React.useCallback((data: DeepPartial<AllData>) => {\n        if (data.settings !== undefined) {\n            settings = {...settings, ...data.settings};\n        }\n        if (data.critterpedia !== undefined) {\n            if (data.critterpedia.bugs !== undefined) {\n                for (let [index, newBugData] of Object.entries(data.critterpedia.bugs)) {\n                    let bugData = critterpedia.bugs[+index];\n                    Object.assign(bugData, newBugData);\n                }\n            }\n            if (data.critterpedia.fish !== undefined) {\n                for (let [index, newFishData] of Object.entries(data.critterpedia.fish)) {\n                    let fishData = critterpedia.fish[+index];\n                    Object.assign(fishData, newFishData);\n                }\n            }\n        }\n        if (data.turnips !== undefined) {\n            if (data.turnips.buy !== undefined) {\n                turnips.buy = data.turnips.buy;\n            }\n            if (data.turnips.previousPattern !== undefined) {\n                turnips.previousPattern = data.turnips.previousPattern;\n            }\n            if (data.turnips.firstBuy !== undefined) {\n                turnips.firstBuy = data.turnips.firstBuy;\n            }\n            for (let day of ['mon', 'tue', 'wed', 'thu', 'fri', 'sat'] as (keyof UserTurnipsData)[]) {\n                if (data.turnips[day] !== undefined) {\n                    Object.assign(turnips[day], data.turnips[day]);\n                }\n            }\n        }\n        settings.dataLastUpdated = new Date().toISOString();\n        window.localStorage.settings = JSON.stringify(settings);\n        window.localStorage.critterpedia = JSON.stringify(critterpedia);\n        window.localStorage.turnips = JSON.stringify(turnips);\n        rerender();\n    }, []);\n    return React.createElement(\n        DataContext.Provider,\n        {value: {settings, critterpedia, turnips, updateData}},\n        children,\n    );\n}\nexport function useTime() {\n    return useContext(TimeContext);\n}\nexport function useData() {\n    return useContext(DataContext);\n}\n","import {IconButton, Tooltip, useTheme} from \"@material-ui/core\";\nimport {GetApp} from \"@material-ui/icons\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function UpdateReadyIcon() {\n    const {t} = useTranslation('service');\n    const theme = useTheme();\n    return <Tooltip title={t('service:available_update.frame_button') as string} aria-label={t('service:available_update.title')}>\n        <IconButton onClick={() => (window.location.replace(window.location.href))}>\n            <GetApp style={{color: theme.palette.success.main}} />\n        </IconButton>\n    </Tooltip>;\n}","import {IconButton, Tooltip} from \"@material-ui/core\";\nimport {OfflinePin} from \"@material-ui/icons\";\nimport {useTranslation} from \"react-i18next\";\n\nexport default function WorksOfflineIcon({setStatus}: {setStatus: (value: boolean) => void;}) {\n    const {t} = useTranslation('service');\n    return <Tooltip title={t('service:available_offline.frame_button') as string}>\n        <IconButton onClick={() => setStatus(false)}>\n            <OfflinePin />\n        </IconButton>\n    </Tooltip>;\n}","import {AppBar as TopAppBar, IconButton, Toolbar, useMediaQuery, useTheme} from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport React from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {useData, useTime} from '../context';\nimport {formatDate} from '../misc';\nimport UpdateReadyIcon from './dialogues/UpdateReadyIcon';\nimport WorksOfflineIcon from './dialogues/WorksOfflineIcon';\n\n\ninterface AppBarProps {\n    setDrawerOpen: (value: boolean) => void;\n    drawerOpen: boolean;\n    title: React.ReactNode;\n    updateReady: boolean;\n    worksOffline: boolean;\n    setWorksOffline: (value: boolean) => void;\n}\n\nfunction AppBar(props: AppBarProps) {\n    const time = useTime();\n    const {t} = useTranslation('core');\n    const {settings} = useData();\n    const theme = useTheme();\n    const longhand = useMediaQuery(theme.breakpoints.up('md'));\n    return (\n        <>\n            <TopAppBar position=\"fixed\">\n                <Toolbar>\n                    <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\"\n                        style={{marginRight: 16}}\n                        onClick={() => props.setDrawerOpen(!props.drawerOpen)}>\n                        <MenuIcon />\n                    </IconButton>\n                    <div style={{flexGrow: 1}}>\n                        {props.title}\n                    </div>\n                    {props.updateReady && <UpdateReadyIcon />}\n                    {props.worksOffline && <WorksOfflineIcon setStatus={props.setWorksOffline} />}\n                    {formatDate(time, t, {longhand, includeTime: true, includeYear: true}, {twelveHour: settings.useTwelveHourTime, precision: 'second'})}\n                </Toolbar>\n            </TopAppBar>\n            <Toolbar />\n        </>\n    );\n}\nexport default AppBar;\n","import {Avatar, Button, Dialog, DialogActions, DialogContent, DialogTitle, List, ListItem, ListItemAvatar, ListItemText, Tooltip, Typography, useTheme} from '@material-ui/core';\nimport preval from 'preval.macro';\nimport GitInfo from 'react-git-info/macro';\nimport {Trans, useTranslation} from 'react-i18next';\nimport {Centred} from '..';\nimport {useData} from '../../context';\nimport {numberFormatters} from '../../i18n';\nimport {formatDate, formatTime} from '../../misc';\n\nconst compileTime: Date = new Date(preval`module.exports = new Date().getTime()`);\n\nconst gitInfo = GitInfo();\n\ninterface ContribInfoProps {\n    name: string;\n    avatarUrl: string;\n    t: (key: string, props?: Object) => string;\n}\nfunction ContribInfo({name, avatarUrl, t}: ContribInfoProps) {\n    return <Tooltip\n        title={t('core:info.contrib.tooltip', {name}) as string}\n    >\n        <ListItem\n            style={{\n                padding: \"8px 32px\"\n            }}\n            button\n            component=\"a\"\n            href={`https://github.com/Starwort/nookdata/commits?author=${name}`}\n            target=\"_blank\"\n        >\n            <ListItemAvatar>\n                <Avatar alt={t('core:alt.avatar', {name})} src={avatarUrl} />\n            </ListItemAvatar>\n            <ListItemText primary={name} secondary={t(`core:info.contrib.${name.toLowerCase()}`)} />\n        </ListItem>\n    </Tooltip>;\n}\n\ninterface InfoDialogueProps {\n    open: boolean;\n    setOpen: (value: boolean) => void;\n}\n\nexport default function InfoDialogue(props: InfoDialogueProps) {\n    const {t} = useTranslation('core');\n    const {settings} = useData();\n    const theme = useTheme();\n    return <Dialog open={props.open} onClose={() => props.setOpen(false)}>\n        <DialogTitle>\n            {t('core:info.title')}\n        </DialogTitle>\n        <DialogContent>\n            <Trans i18nKey=\"core:info.description\" t={t}>\n                You are currently viewing NookData revision\n                <a href={`https://github.com/Starwort/nookdata/commit/${gitInfo.commit.hash}`} style={{color: theme.palette.primary.main, textUnderlineOffset: 2}}>\n                    {{gitRevision: numberFormatters[t('core:misc.code')](gitInfo.commit.shortHash)}}\n                </a>. It was built at {{\n                    buildTime: formatTime(\n                        compileTime,\n                        t,\n                        {twelveHour: settings.useTwelveHourTime, precision: 'minute'},\n                    ),\n                }} on {{\n                    buildDate: formatDate(\n                        compileTime,\n                        t,\n                        {longhand: true, includeYear: true, includeTime: false},\n                    ),\n                }}.\n            </Trans>\n            <br />\n            <br />\n            <Centred>\n                <Typography variant=\"subtitle1\">{t('core:info.contrib.title')}</Typography>\n            </Centred>\n            <Centred>\n                <Typography variant=\"subtitle2\">{t('core:info.contrib.subtitle')}</Typography>\n            </Centred>\n        </DialogContent>\n        <List>\n            <ContribInfo name=\"Starwort\" avatarUrl={\"https://avatars.githubusercontent.com/u/16487249\"} t={t} />\n            <ContribInfo name=\"EloLeChan\" avatarUrl={\"https://avatars.githubusercontent.com/u/83836335\"} t={t} />\n            <ContribInfo name=\"Hevy5125\" avatarUrl={\"https://avatars.githubusercontent.com/u/85719789\"} t={t} />\n        </List>\n        <DialogActions>\n            <Button onClick={() => props.setOpen(false)}>\n                {t('core:ui.dismiss')}\n            </Button>\n        </DialogActions>\n    </Dialog>;\n}","import {Typography, useMediaQuery, useTheme} from '@material-ui/core';\nimport React from 'react';\nimport {useTranslation} from 'react-i18next';\nimport {AppBar, DrawerAdjust, NavigationDrawer, SettingsDialogue} from '.';\nimport {UserSettings} from '../data';\nimport InfoDialogue from './dialogues/InfoDialogue';\n\n\ninterface AppFrameProps {\n    children: React.ReactNode;\n    updateReady: boolean;\n    worksOffline: boolean;\n    setWorksOffline(value: boolean): void;\n    setSettings(settings: UserSettings): void;\n}\nlet initialRenders = 10;\nexport default function AppFrame({children, updateReady, worksOffline, setWorksOffline, setSettings}: AppFrameProps) {\n    const theme = useTheme();\n    const startOpen = useMediaQuery(theme.breakpoints.up('lg'));\n    const [drawerOpen, setDrawerOpen] = React.useState(false);\n    if (initialRenders) {\n        console.log(initialRenders, startOpen);\n        if (startOpen && !drawerOpen) {\n            initialRenders = 0;\n            setDrawerOpen(true);\n        } else {\n            initialRenders--;\n        }\n    }\n    const {t} = useTranslation('core');\n    const [settingsOpen, setSettingsOpen] = React.useState(false);\n    const [infoOpen, setInfoOpen] = React.useState(false);\n    return (\n        <>\n            <AppBar\n                setDrawerOpen={setDrawerOpen}\n                drawerOpen={drawerOpen}\n                title={\n                    <Typography variant=\"h6\">\n                        <div\n                            style={{\n                                color: theme.palette.winter.main,\n                                display: 'inline'\n                            }}\n                        >\n                            {t('title.a')}\n                        </div>\n                        <div\n                            style={{\n                                color: theme.palette.summer.main,\n                                display: 'inline'\n                            }}\n                        >\n                            {t('title.b')}\n                        </div>\n                    </Typography>\n                }\n                updateReady={updateReady}\n                worksOffline={worksOffline}\n                setWorksOffline={setWorksOffline}\n            />\n            <NavigationDrawer\n                open={drawerOpen}\n                setOpen={setDrawerOpen}\n                setInfoOpen={setInfoOpen}\n                setSettingsOpen={setSettingsOpen}\n            />\n            <SettingsDialogue open={settingsOpen} setOpen={setSettingsOpen} setSettings={setSettings} />\n            <InfoDialogue open={infoOpen} setOpen={setInfoOpen} />\n            <DrawerAdjust active={drawerOpen}>\n                {children}\n            </DrawerAdjust>\n        </>\n    );\n}\n","import React from 'react';\nimport './Centred.scss';\ninterface CentredProps {\n    children: React.ReactNode;\n}\nexport default function Centred(props: CentredProps) {\n    return <div className=\"centred\">\n        {props.children}\n    </div>;\n}","import {Button, Checkbox, Dialog, DialogActions, DialogContent, DialogTitle, FormControl, FormControlLabel, Grid, InputLabel, MenuItem, Select, TextField, Typography, useTheme} from \"@material-ui/core\";\nimport React from 'react';\nimport {useTranslation} from \"react-i18next\";\nimport {Centred} from \"..\";\nimport {useData, useTime} from \"../../context\";\nimport {UserSettings} from \"../../data\";\nimport {availableLocalisations} from \"../../i18n\";\nimport {ThemeName, themeNames} from \"../../themes\";\n\ninterface SettingsDialogueProps {\n    open: boolean;\n    setOpen(open: boolean): void;\n    setSettings(settings: UserSettings): void;\n}\n\nexport default function SettingsDialogue({open, setOpen, setSettings}: SettingsDialogueProps) {\n    const {t, i18n} = useTranslation('core');\n    const time = useTime();\n    const theme = useTheme();\n    const {settings} = useData();\n    const [date, setDate] = React.useState(new Date());\n    React.useEffect(\n        () => void setTimeout(setDate, 10, time),\n        [open]\n    );\n    return <Dialog aria-labelledby=\"settings-dialogue-title\" open={open} onClose={() => setOpen(false)}\n        PaperProps={{\n            style: {\n                width: \"75%\",\n            }\n        }}>\n        <DialogTitle id=\"settings-dialogue-title\">{t('core:settings.title')}</DialogTitle>\n        <DialogContent>\n            <Centred>\n                <Typography variant=\"subtitle1\">\n                    {t('core:settings.system.title')}\n                </Typography>\n            </Centred>\n            <Grid container spacing={2} style={{paddingTop: 8}}>\n                <Grid item xs={12} sm={6}>\n                    <FormControl fullWidth>\n                        <InputLabel id=\"lang-label\">{t('core:settings.system.lang.choose')}</InputLabel>\n                        <Select\n                            value={i18n.language}\n                            onChange={(event) => i18n.changeLanguage(event.target.value as string)}\n                            labelId='lang-label'\n                            fullWidth\n                        >\n                            {availableLocalisations.map(lang =>\n                                <MenuItem value={lang}>\n                                    {t(`core:settings.system.lang.${lang}`)}\n                                </MenuItem>\n                            )}\n                        </Select>\n                    </FormControl>\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                    <FormControl fullWidth>\n                        <InputLabel id=\"theme-label\">{t('core:settings.system.theme.choose')}</InputLabel>\n                        <Select\n                            value={theme.name}\n                            onChange={(event) => {\n                                document.body.classList.add(\"no-transition\");\n                                setSettings({...settings, theme: event.target.value as ThemeName});\n                                setTimeout(() => document.body.classList.remove(\"no-transition\"), 10);\n                            }}\n                            labelId='theme-label'\n                            fullWidth\n                        >\n                            {themeNames.map(theme =>\n                                <MenuItem value={theme}>\n                                    {t(`core:settings.system.theme.${theme}`)}\n                                </MenuItem>\n                            )}\n                        </Select>\n                    </FormControl>\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                    <Centred>\n                        <FormControlLabel\n                            control={\n                                <Checkbox\n                                    checked={settings.useTwelveHourTime}\n                                    onChange={(event) => {\n                                        setDate(new Date());\n                                        setSettings({...settings, useTwelveHourTime: event.target.checked});\n                                    }}\n                                    color=\"primary\"\n                                />\n                            }\n                            label={t('core:settings.system.time.use_twelve_hour')}\n                        />\n                    </Centred>\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                    <Centred>\n                        <FormControlLabel\n                            control={\n                                <Checkbox\n                                    checked={settings.useSystemTime}\n                                    onChange={(event) => {\n                                        setDate(new Date());\n                                        setSettings({...settings, useSystemTime: event.target.checked});\n                                    }}\n                                    color=\"primary\"\n                                />\n                            }\n                            label={t('core:settings.system.time.system')}\n                        />\n                    </Centred>\n                </Grid>\n                {settings.useSystemTime ||\n                    <Grid item xs={12} sm={6}>\n                        <TextField\n                            label={t('core:settings.system.time.override')}\n                            type=\"datetime-local\"\n                            value={date.toString('yyyy-MM-ddTHH:mm')}\n                            onChange={(event) => {\n                                const newDate = Date.parse(event.target.value);\n                                if (newDate) {\n                                    setDate(newDate);\n                                    setSettings({\n                                        ...settings,\n                                        useSystemTime: false,\n                                        timeOffset: newDate.set({second: 0, millisecond: 0} as any).getTime() - (new Date()).set({second: 0, millisecond: 0} as any).getTime(),\n                                    });\n                                }\n                            }}\n                            InputLabelProps={{\n                                shrink: true,\n                            }}\n                            fullWidth\n                        />\n                    </Grid>\n                }\n            </Grid>\n            <Centred>\n                <Typography variant=\"subtitle1\" style={{paddingTop: 16}}>\n                    {t('core:settings.island.title')}\n                </Typography>\n            </Centred>\n            <Grid container spacing={2} style={{paddingTop: 8}}>\n                <Grid item xs={12} sm={6}>\n                    <TextField\n                        label={t('core:settings.island.name')}\n                        value={settings.islandName}\n                        onChange={(event) => setSettings({...settings, islandName: event.target.value as string})}\n                        fullWidth\n                        InputLabelProps={{\n                            shrink: !!settings.islandName,\n                        }}\n                    />\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                    <FormControl fullWidth>\n                        <InputLabel id=\"hemi-label\">{t('core:settings.island.hemisphere.choose')}</InputLabel>\n                        <Select\n                            value={settings.hemisphere}\n                            onChange={(event) => setSettings({...settings, hemisphere: event.target.value as 'north' | 'south'})}\n                            labelId='hemi-label'\n                            fullWidth\n                        >\n                            <MenuItem value=\"north\">{t('core:settings.island.hemisphere.north')}</MenuItem>\n                            <MenuItem value=\"south\">{t('core:settings.island.hemisphere.south')}</MenuItem>\n                        </Select>\n                    </FormControl>\n                </Grid>\n                <Grid item xs={12} sm={6}>\n                    <TextField\n                        label={t('core:settings.island.player_name')}\n                        value={settings.playerName}\n                        onChange={(event) => setSettings({...settings, playerName: event.target.value as string})}\n                        fullWidth\n                        InputLabelProps={{\n                            shrink: !!settings.playerName,\n                        }}\n                    />\n                </Grid>\n            </Grid>\n        </DialogContent>\n        <DialogActions>\n            <Button onClick={() => setOpen(false)}>{t('core:ui.done')}</Button>\n        </DialogActions>\n    </Dialog>;\n}","import {Button, Dialog, DialogActions, DialogContent, DialogTitle} from '@material-ui/core';\nimport {useTranslation} from 'react-i18next';\ninterface UpdateReadyDialogueProps {\n    open: boolean;\n    setOpen: (value: boolean) => void;\n}\n\nexport default function UpdateReadyDialogue(props: UpdateReadyDialogueProps) {\n    const {t} = useTranslation(['service', 'core']);\n    return <Dialog open={props.open} onClose={() => props.setOpen(false)}>\n        <DialogTitle>{t('service:available_update.title')}</DialogTitle>\n        <DialogContent>\n            {t('service:available_update.content')}\n        </DialogContent>\n        <DialogActions>\n            <Button variant=\"text\" onClick={() => (window.location.replace(window.location.href))}>{t('service:available_update.reload')}</Button>\n            <Button variant=\"text\" onClick={() => props.setOpen(false)}>{t('core:ui.dismiss')}</Button>\n        </DialogActions>\n    </Dialog>;\n}","import {Button, Dialog, DialogActions, DialogContent, DialogTitle} from '@material-ui/core';\nimport {useTranslation} from 'react-i18next';\ninterface WorksOfflineDialogueProps {\n    open: boolean;\n    setOpen: (value: boolean) => void;\n}\n\nexport default function WorksOfflineDialogue(props: WorksOfflineDialogueProps) {\n    const {t} = useTranslation(['service', 'core']);\n    return <Dialog open={props.open} onClose={() => props.setOpen(false)}>\n        <DialogTitle>{t('service:available_offline.title')}</DialogTitle>\n        <DialogContent>\n            {t('service:available_offline.content')}\n        </DialogContent>\n        <DialogActions>\n            <Button variant=\"text\" onClick={() => props.setOpen(false)}>{t('core:ui.dismiss')}</Button>\n        </DialogActions>\n    </Dialog>;\n}","import {useMediaQuery, useTheme} from '@material-ui/core';\nimport React from 'react';\n\ninterface DrawerAdjustProps {\n    active: boolean;\n    children: React.ReactNode;\n}\nexport default function DrawerAdjust(props: DrawerAdjustProps) {\n    const theme = useTheme();\n    const matches = useMediaQuery(theme.breakpoints.up('sm'));\n    return (\n        <div style={{paddingLeft: 240 * (+props.active) * (+matches), transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms'}}>\n            {props.children}\n        </div>\n    );\n}\n","import {ListItem, ListItemIcon, ListItemText} from '@material-ui/core';\nimport React from 'react';\nimport {NavLink, NavLinkProps} from 'react-router-dom';\n\ninterface ListItemLinkProps {\n    icon?: React.ReactNode;\n    primary: string;\n    to: string;\n    exact?: boolean;\n    onSelect?: () => void;\n}\nexport default function ListItemLink({icon, primary, to, exact, onSelect}: ListItemLinkProps) {\n    const renderLink = React.useMemo(\n        () => React.forwardRef<any, Omit<NavLinkProps, 'to'>>((itemProps, ref) => (\n            <NavLink to={to} ref={ref} {...itemProps} activeClassName=\"Mui-selected\" exact={exact} />\n        )),\n        [to]\n    );\n    return <ListItem button component={renderLink} onClick={onSelect}>\n        {icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\n        <ListItemText primary={primary} />\n    </ListItem>;\n}\n","import {useTheme} from '@material-ui/core';\nimport './Loading.scss';\nexport default function Loading() {\n    const theme = useTheme();\n    return <video autoPlay loop muted playsInline className={`loader ${theme.name}`}>\n        <source src=\"assets/shared/loading.gif.webm\" type=\"video/webm\" />\n        <source src=\"assets/shared/loading.gif.mp4\" type=\"video/mp4\" />\n    </video>;\n}","var _g, _g2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgDiscord(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    enableBackground: \"new 0 0 24 24\",\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"rect\", {\n    fill: \"none\",\n    height: 24,\n    width: 24,\n    y: 0\n  }))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19.27,5.33C17.94,4.71,16.5,4.26,15,4c-0.03,0-0.05,0.01-0.07,0.03c-0.18,0.33-0.39,0.76-0.53,1.09 c-1.61-0.24-3.22-0.24-4.8,0C9.46,4.78,9.25,4.36,9.06,4.03C9.05,4.01,9.02,4,8.99,4c-1.5,0.26-2.93,0.71-4.27,1.33 c-0.01,0-0.02,0.01-0.03,0.02c-2.72,4.07-3.47,8.03-3.1,11.95c0,0.02,0.01,0.04,0.03,0.05c1.8,1.32,3.53,2.12,5.24,2.65 c0.03,0.01,0.06,0,0.07-0.02c0.4-0.55,0.76-1.13,1.07-1.74c0.02-0.04,0-0.08-0.04-0.09c-0.57-0.22-1.11-0.48-1.64-0.78 c-0.04-0.02-0.04-0.08-0.01-0.11c0.11-0.08,0.22-0.17,0.33-0.25c0.02-0.02,0.05-0.02,0.07-0.01c3.44,1.57,7.15,1.57,10.55,0 c0.02-0.01,0.05-0.01,0.07,0.01c0.11,0.09,0.22,0.17,0.33,0.26c0.04,0.03,0.04,0.09-0.01,0.11c-0.52,0.31-1.07,0.56-1.64,0.78 c-0.04,0.01-0.05,0.06-0.04,0.09c0.32,0.61,0.68,1.19,1.07,1.74C17.07,20,17.1,20.01,17.13,20c1.72-0.53,3.45-1.33,5.25-2.65 c0.02-0.01,0.03-0.03,0.03-0.05c0.44-4.53-0.73-8.46-3.1-11.95C19.3,5.34,19.29,5.33,19.27,5.33z M8.52,14.91 c-1.03,0-1.89-0.95-1.89-2.12s0.84-2.12,1.89-2.12c1.06,0,1.9,0.96,1.89,2.12C10.41,13.96,9.57,14.91,8.52,14.91z M15.49,14.91 c-1.03,0-1.89-0.95-1.89-2.12s0.84-2.12,1.89-2.12c1.06,0,1.9,0.96,1.89,2.12C17.38,13.96,16.55,14.91,15.49,14.91z\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDiscord);\nexport default __webpack_public_path__ + \"static/media/discord.8f962468.svg\";\nexport { ForwardRef as ReactComponent };","import {Drawer, Hidden, List, ListItem, ListItemIcon, ListItemText, SvgIcon, Toolbar, useTheme} from '@material-ui/core';\nimport {Info, Settings} from '@material-ui/icons';\nimport {useTranslation} from 'react-i18next';\nimport {ListItemLink} from '.';\nimport {ReactComponent as DiscordSVG} from '../assets/icons/discord.svg';\nimport {pageData} from '../pages';\n\nfunction Discord() {\n    return <SvgIcon component={DiscordSVG} />;\n}\n\ninterface DrawerContentProps {\n    onSelect?(): void;\n    setInfoOpen(value: boolean): void;\n    setSettingsOpen(value: boolean): void;\n}\nfunction DrawerContent({\n    onSelect,\n    setInfoOpen,\n    setSettingsOpen: setSettingsOpen,\n}: DrawerContentProps) {\n    const {t} = useTranslation('core');\n    return <>\n        <List>\n            {Object.entries(pageData).map(([route, data]) => (\n                <ListItemLink key={route} to={route} icon={data.icon} primary={t(data.title)} onSelect={onSelect} />\n            ))}\n        </List>\n        <div style={{flexGrow: 1}} />\n        <ListItem button component=\"a\" href=\"https://discord.gg/jahp5wd\" target=\"_blank\">\n            <ListItemIcon>\n                <Discord />\n            </ListItemIcon>\n            <ListItemText primary={t('core:sidebar.support')} />\n        </ListItem>\n        <ListItem button onClick={() => {setInfoOpen(true); if (onSelect) {onSelect();} }}>\n            <ListItemIcon>\n                <Info />\n            </ListItemIcon>\n            <ListItemText primary={t('core:sidebar.about')} />\n        </ListItem>\n        <ListItem button onClick={() => {setSettingsOpen(true); if (onSelect) {onSelect();} }}>\n            <ListItemIcon>\n                <Settings />\n            </ListItemIcon>\n            <ListItemText primary={t('core:sidebar.settings')} />\n        </ListItem>\n    </>;\n}\n\ninterface NavigationDrawerProps {\n    open: boolean;\n    setOpen(value: boolean): void;\n    setInfoOpen(value: boolean): void;\n    setSettingsOpen(value: boolean): void;\n}\n\n\nexport default function NavigationDrawer({open, setOpen, setInfoOpen, setSettingsOpen}: NavigationDrawerProps) {\n    const theme = useTheme();\n    const container = window !== undefined ? () => window.document.body : undefined;\n    return <>\n        <Hidden smUp>\n            <Drawer\n                variant=\"temporary\"\n                container={container}\n                anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n                open={open}\n                onClose={() => setOpen(false)}\n            >\n                <DrawerContent\n                    onSelect={() => setOpen(false)}\n                    setInfoOpen={setInfoOpen}\n                    setSettingsOpen={setSettingsOpen}\n                />\n            </Drawer>\n        </Hidden>\n        <Hidden xsDown>\n            <Drawer\n                variant=\"persistent\"\n                anchor={theme.direction === 'rtl' ? 'right' : 'left'}\n                open={open}\n            >\n                <Toolbar />\n                <DrawerContent\n                    setInfoOpen={setInfoOpen}\n                    setSettingsOpen={setSettingsOpen}\n                />\n            </Drawer>\n        </Hidden>\n    </>;\n}\n","import i18n from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport Backend from 'i18next-http-backend';\nimport {initReactI18next} from 'react-i18next';\nimport {Dict} from './misc';\n\nexport const availableLocalisations = ['en', 'fr', 'ja'];\n\nconst jaCharMap: Dict<string> = {\n    '0': '０',\n    '1': '１',\n    '2': '２',\n    '3': '３',\n    '4': '４',\n    '5': '５',\n    '6': '６',\n    '7': '７',\n    '8': '８',\n    '9': '９',\n    'a': 'ａ',\n    'b': 'ｂ',\n    'c': 'ｃ',\n    'd': 'ｄ',\n    'e': 'ｅ',\n    'f': 'ｆ',\n};\nexport const numberFormatters: Dict<(value: number | string) => string> = {\n    'en': (value) => value.toString(),\n    'fr': (value) => value.toString(),\n    'ja': (value) => value.toString().replace(/[012456789abcdef]/g, (m) => jaCharMap[m]),\n};\n\ni18n.use(Backend)\n    .use(LanguageDetector)\n    .use(initReactI18next)\n    .init({\n        backend: {loadPath: '/nookdata/assets/i18n/{{lng}}/{{ns}}.json'},\n        fallbackLng: 'en',\n        debug: process.env.NODE_ENV == 'development',\n\n        interpolation: {\n            escapeValue: false, // not needed for react as it escapes by default\n        },\n        react: {\n            transSupportBasicHtmlNodes: true,\n            transKeepBasicHtmlNodesFor: ['br', 'big', 'small', 'ruby', 'rt'],\n        },\n        supportedLngs: availableLocalisations,\n        ns: 'core',\n        defaultNS: 'core',\n    });","import {lazy} from 'react';\nexport default lazy(() => import('./page'));","import {lazy} from 'react';\nexport default lazy(() => import('./page'));\n","import {EmojiNature, ShowChart} from '@material-ui/icons';\nimport React from 'react';\nimport {Dict} from '../misc';\nimport Critterpedia from './critterpedia';\nimport Turnips from './turnips';\n\nexport {Critterpedia};\nexport {Turnips};\n\ninterface PageData {\n    title: string;\n    icon: React.ReactNode;\n}\nexport const pageData: Dict<PageData> = {\n    '/critterpedia': {\n        title: 'core:pages.critterpedia',\n        icon: <EmojiNature />,\n    },\n    '/turnips': {\n        title: 'core:pages.turnips',\n        icon: <ShowChart />,\n    },\n};","import {Pattern} from './pages/turnips/data';\nimport {ThemeName} from './themes';\n\n\nnamespace Versions {\n    export namespace PreNumber {\n        export interface UserHourData {\n            am: number | null;\n            pm: number | null;\n        }\n\n        export interface UserTurnipsData {\n            buy: number | null;\n            mon: UserHourData;\n            tue: UserHourData;\n            wed: UserHourData;\n            thu: UserHourData;\n            fri: UserHourData;\n            sat: UserHourData;\n            previousPattern: Pattern;\n            firstBuy: boolean;\n        }\n\n        export interface UserCritterData {\n            obtained: boolean;\n            modelled: boolean;\n        }\n\n        export interface UserCritterpediaData {\n            bugs: UserCritterData[];\n            fish: UserCritterData[];\n        }\n\n        export interface UserSettings {\n            theme: ThemeName;\n            hemisphere: \"north\" | \"south\";\n            playerName: string;\n            islandName: string;\n            timeOffset: number;\n            useSystemTime: boolean;\n            useTwelveHourTime: boolean;\n        }\n\n        export const upgrade = () => {\n            if (!window.localStorage.settings) {\n                window.localStorage.settings = JSON.stringify({\n                    theme: 'dark',\n                    hemisphere: 'north',\n                    islandName: 'ISLAND',\n                    playerName: 'PLAYER',\n                    timeOffset: 0,\n                    useSystemTime: true,\n                    useTwelveHourTime: false,\n                });\n            }\n            if (!window.localStorage.critterpedia) {\n                let data: Versions.ND_0_1_0.UserCritterpediaData = {\n                    bugs: [],\n                    fish: [],\n                };\n                for (let i = 0; i < 80; i++) {\n                    data.bugs.push({obtained: false, modelled: false});\n                    data.fish.push({obtained: false, modelled: false});\n                }\n                window.localStorage.critterpedia = JSON.stringify(data);\n            }\n            if (!window.localStorage.turnips) {\n                window.localStorage.turnips = JSON.stringify({\n                    buy: null,\n                    mon: {am: null, pm: null},\n                    tue: {am: null, pm: null},\n                    wed: {am: null, pm: null},\n                    thu: {am: null, pm: null},\n                    fri: {am: null, pm: null},\n                    sat: {am: null, pm: null},\n                    previousPattern: Pattern.UNKNOWN,\n                    firstBuy: false,\n                });\n            }\n            Versions.ND_0_1_0.upgrade();\n        };\n    }\n    export namespace ND_0_1_0 {\n        export interface UserHourData {\n            am: number | null;\n            pm: number | null;\n        }\n\n        export interface UserTurnipsData {\n            buy: number | null;\n            mon: UserHourData;\n            tue: UserHourData;\n            wed: UserHourData;\n            thu: UserHourData;\n            fri: UserHourData;\n            sat: UserHourData;\n            previousPattern: Pattern;\n            firstBuy: boolean;\n        }\n\n        export interface UserCritterData {\n            obtained: boolean;\n            modelled: boolean;\n        }\n\n        export interface UserCritterpediaData {\n            bugs: UserCritterData[];\n            fish: UserCritterData[];\n        }\n\n        export interface UserSettings {\n            theme: ThemeName;\n            hemisphere: \"north\" | \"south\";\n            playerName: string;\n            islandName: string;\n            timeOffset: number;\n            useSystemTime: boolean;\n            useTwelveHourTime: boolean;\n        }\n\n        export const upgrade = () => {\n            let data: Versions.ND_0_2_0.UserCritterpediaData = JSON.parse(window.localStorage.critterpedia); // guaranteed to exist due to _upgrade0\n            for (let i = 0; i < 80; i++) {\n                data.bugs[i].stored = 0;\n                data.fish[i].stored = 0;\n            }\n            window.localStorage.critterpedia = JSON.stringify(data);\n            let settings: Versions.ND_0_2_0.UserSettings = JSON.parse(window.localStorage.settings);\n            settings.dataLastUpdated = (new Date(0)).toISOString(); // always be the oldest data when converting\n            settings.token = ''; // when updating, we don't have a token\n            window.localStorage.settings = JSON.stringify(settings);\n            Versions.ND_0_2_0.upgrade();\n        };\n    }\n    export namespace ND_0_2_0 {\n        export interface UserHourData {\n            am: number | null;\n            pm: number | null;\n        }\n\n        export interface UserTurnipsData {\n            buy: number | null;\n            mon: UserHourData;\n            tue: UserHourData;\n            wed: UserHourData;\n            thu: UserHourData;\n            fri: UserHourData;\n            sat: UserHourData;\n            previousPattern: Pattern;\n            firstBuy: boolean;\n        }\n\n        export interface UserCritterData {\n            obtained: boolean;\n            modelled: boolean;\n            stored: number;\n        }\n\n        export interface UserCritterpediaData {\n            bugs: UserCritterData[];\n            fish: UserCritterData[];\n        }\n\n        export interface UserSettings {\n            theme: ThemeName;\n            hemisphere: \"north\" | \"south\";\n            playerName: string;\n            islandName: string;\n            timeOffset: number;\n            useSystemTime: boolean;\n            useTwelveHourTime: boolean;\n            dataLastUpdated: string;\n            token: string;\n        }\n\n        export const upgrade = () => {\n            let settings: Versions.ND_0_2_1.UserSettings = JSON.parse(window.localStorage.settings);\n            settings.turnipNoConfirm = false;\n            window.localStorage.settings = JSON.stringify(settings);\n            Versions.ND_0_2_1.upgrade();\n        };\n    }\n\n    export namespace ND_0_2_1 {\n        export interface UserHourData {\n            am: number | null;\n            pm: number | null;\n        }\n\n        export interface UserTurnipsData {\n            buy: number | null;\n            mon: UserHourData;\n            tue: UserHourData;\n            wed: UserHourData;\n            thu: UserHourData;\n            fri: UserHourData;\n            sat: UserHourData;\n            previousPattern: Pattern;\n            firstBuy: boolean;\n        }\n\n        export interface UserCritterData {\n            obtained: boolean;\n            modelled: boolean;\n            stored: number;\n        }\n\n        export interface UserCritterpediaData {\n            bugs: UserCritterData[];\n            fish: UserCritterData[];\n        }\n\n        export interface UserSettings {\n            theme: ThemeName;\n            hemisphere: \"north\" | \"south\";\n            playerName: string;\n            islandName: string;\n            timeOffset: number;\n            useSystemTime: boolean;\n            useTwelveHourTime: boolean;\n            dataLastUpdated: string;\n            token: string;\n            turnipNoConfirm: boolean;\n        }\n\n        export const upgrade = () => {\n            // latest version at time of writing\n        };\n    }\n}\nexport const VERSION = '0.2.1';\nexport type UserHourData = Versions.ND_0_2_1.UserHourData;\nexport type UserTurnipsData = Versions.ND_0_2_1.UserTurnipsData;\nexport type UserCritterData = Versions.ND_0_2_1.UserCritterData;\nexport type UserCritterpediaData = Versions.ND_0_2_1.UserCritterpediaData;\nexport type UserSettings = Versions.ND_0_2_1.UserSettings;\nexport function upgradeData() {\n    switch (window.localStorage.dataVersion) {\n        case undefined:\n            Versions.PreNumber.upgrade();\n            break;\n        case '0.1.0':\n            Versions.ND_0_1_0.upgrade();\n            break;\n        case '0.2.0':\n            Versions.ND_0_2_0.upgrade();\n            break;\n        case '0.2.1':\n            Versions.ND_0_2_1.upgrade();\n            break;\n        default:\n            console.log(\"Please do not mess with your data!\");\n    }\n    window.localStorage.dataVersion = VERSION;\n};\n","import {ComponentsProps} from \"@material-ui/core/styles/props\";\n\nconst commonProps: ComponentsProps = {\n    MuiTextField: {\n        variant: 'filled',\n    },\n    MuiSelect: {\n        variant: 'filled',\n    },\n    MuiFormControl: {\n        variant: 'filled',\n    },\n    MuiDialogTitle: {\n        style: {textAlign: 'center'},\n    }\n};\nexport {commonProps};\n","import {createMuiTheme} from '@material-ui/core/styles';\nimport '../prototype_mods';\nimport {commonProps} from './common_theme_data';\n\n\n// Dark theme\nconst theme = createMuiTheme({\n    palette: {\n        type: 'dark',\n        opacity: 0.3,\n        elevations: {\n            0: {main: '#1e1e1e'},\n            1: {main: '#292929'},\n            2: {main: '#2e2e2e'},\n            3: {main: '#303030'},\n            4: {main: '#323232'},\n            6: {main: '#373737'},\n            8: {main: '#393939'},\n            12: {main: '#3e3e3e'},\n            16: {main: '#404040'},\n            24: {main: '#424242'},\n        },\n        modelled: {\n            main: 'gold',\n            transparent: 'rgba(255, 215, 0, 0.3)',\n        },\n        winter: {\n            main: '#3c84c6',\n            transparent: 'rgba(60, 132, 198, 0.3)',\n            contrastText: 'rgba(0,0,0,87%)'\n        },\n        spring: {\n            main: '#38761c',\n            transparent: 'rgba(56, 118, 28, 0.3)',\n            contrastText: 'rgba(0,0,0,87%)'\n        },\n        summer: {\n            main: '#e69038',\n            transparent: 'rgba(230, 144, 56, 0.3)',\n            contrastText: 'rgba(0,0,0,87%)'\n        },\n        autumn: {\n            main: '#b45f04',\n            transparent: 'rgba(180, 95, 4, 0.3)',\n            contrastText: 'rgba(0,0,0,87%)'\n        },\n        primary: {\n            main: '#bb86fc',\n            contrastText: 'rgba(0,0,0,87%)',\n            transparent: 'rgba(187, 134, 252, 0.3)',\n        },\n        secondary: {\n            main: '#03dac6',\n            contrastText: 'rgba(0,0,0,87%)',\n        },\n        error: {\n            main: '#cf6679',\n            transparent: 'rgba(207, 102, 121, 0.3)',\n        },\n        background: {\n            paper: '#1e1e1e',\n            default: '#121212'\n        },\n        text: {\n            primary: 'rgba(255,255,255,87%)',\n            secondary: 'rgba(255,255,255,60%)',\n            hint: 'rgba(255,255,255,60%)',\n            disabled: 'rgba(255,255,255,38%)',\n        }\n    },\n    zIndex: {\n        appBar: 1250\n    },\n    props: commonProps,\n});\n\ntheme.overrides = {\n    MuiAppBar: {\n        colorPrimary: {\n            backgroundColor: theme.palette.background.paper,\n            color: theme.palette.primary.main,\n        },\n        colorSecondary: {\n            backgroundColor: theme.palette.background.paper,\n            color: theme.palette.secondary.main,\n        },\n        colorDefault: {\n            backgroundColor: theme.palette.background.paper,\n            color: theme.palette.text.primary,\n        }\n    },\n    MuiDrawer: {\n        paper: {\n            width: 240\n        }\n    },\n    MuiCard: {\n        root: {\n            borderWidth: 1,\n            borderColor: 'rgba(255, 255, 255, 8%)',\n            borderStyle: 'solid',\n        },\n    },\n    MuiCardHeader: {\n        root: {\n            paddingBottom: 0,\n            textAlign: 'center',\n        },\n    },\n    MuiListItemIcon: {\n        root: {\n            color: theme.palette.text.secondary,\n        }\n    }\n};\n\nexport default theme;","import {createMuiTheme} from '@material-ui/core/styles';\nimport '../prototype_mods';\nimport {commonProps} from './common_theme_data';\n\n// Normal or default theme\nconst theme = createMuiTheme({\n    palette: {\n        type: 'light',\n        opacity: 0.6,\n        elevations: {\n            0: {main: '#ffffff'},\n            1: {main: '#ffffff'},\n            2: {main: '#ffffff'},\n            3: {main: '#ffffff'},\n            4: {main: '#ffffff'},\n            6: {main: '#ffffff'},\n            8: {main: '#ffffff'},\n            12: {main: '#ffffff'},\n            16: {main: '#ffffff'},\n            24: {main: '#ffffff'},\n        },\n        modelled: {\n            main: '#fbc02d',\n            transparent: 'rgba(251, 192, 45, 0.5)',\n        },\n        winter: {\n            main: '#3c84c6',\n            transparent: 'rgba(60, 132, 198, 0.6)',\n            contrastText: 'rgba(0,0,0,87%)',\n        },\n        spring: {\n            main: '#38761c',\n            transparent: 'rgba(56, 118, 28, 0.6)',\n            contrastText: 'rgba(0,0,0,87%)',\n        },\n        summer: {\n            main: '#e69038',\n            transparent: 'rgba(230, 144, 56, 0.6)',\n            contrastText: 'rgba(0,0,0,87%)',\n        },\n        autumn: {\n            main: '#b45f04',\n            transparent: 'rgba(180, 95, 4, 0.6)',\n            contrastText: 'rgba(0,0,0,87%)',\n        },\n        primary: {\n            main: '#6200ee',\n            contrastText: 'rgba(255,255,255,87%)',\n            transparent: 'rgba(98, 0, 238, 0.5)',\n        },\n        secondary: {\n            main: '#03dac6',\n            contrastText: 'rgba(0,0,0,87%)',\n        },\n        error: {\n            main: '#b00020',\n            transparent: 'rgba(176, 0, 32, 0.5)',\n        },\n        background: {\n            paper: '#ffffff',\n            default: '#eeeeee'\n        },\n        text: {\n            primary: 'rgba(0,0,0,87%)',\n            secondary: 'rgba(0,0,0,60%)',\n            hint: 'rgba(0,0,0,60%)',\n            disabled: 'rgba(0,0,0,38%)',\n        }\n    },\n    zIndex: {\n        appBar: 1250\n    },\n    props: commonProps,\n});\n\ntheme.overrides = {\n    MuiDrawer: {\n        paper: {\n            width: 240\n        }\n    },\n    MuiCard: {\n        root: {\n            borderWidth: 1,\n            borderColor: 'transparent',\n            borderStyle: 'solid',\n        },\n    },\n    MuiCardHeader: {\n        root: {\n            paddingBottom: 0,\n            textAlign: 'center',\n        },\n    },\n};\n\nexport default theme;","import dark from './dark';\nimport light from './light';\n\ndark.name = 'dark';\nlight.name = 'light';\n\nconst themes = {\n    light,\n    dark,\n};\n\nexport const themeNames = Object.keys(themes);\n\nexport type ThemeName = keyof typeof themes;\n\nexport default function getTheme(theme: ThemeName) {\n    return themes[theme];\n}","import {ThemeName} from \"./themes\";\n\ndeclare global {\n    interface String {\n        capitalise: () => String;\n    }\n    interface Array<T> {\n        rotated: (by: number) => Array<T>;\n        rotate: (by: number) => Array<T>;\n        count: (elem: T) => number;\n    }\n}\nString.prototype.capitalise = function () {\n    return this.charAt(0).toUpperCase() + this.slice(1);\n};\nArray.prototype.rotated = function (by: number) {\n    by = by % this.length;\n    return this.slice(by, this.length).concat(this.slice(0, by));\n};\nArray.prototype.rotate = function (by: number) {\n    by = by % this.length;\n    while (this.length && by < 0) by += this.length;\n    this.push.apply(this, this.splice(0, by));\n    return this;\n};\nArray.prototype.count = function (elem) {\n    return this.filter(item => item === elem).length;\n};\n\ndeclare module \"react\" {\n    interface CSSProperties {\n        '--progress'?: string | number;\n    }\n}\n\ndeclare module \"@material-ui/core/styles/createMuiTheme\" {\n    interface Theme {\n        name: ThemeName;\n    }\n}\n\ndeclare module \"@material-ui/core/styles/createPalette\" {\n    interface ElevationColourValue {\n        main: string;\n    }\n\n    interface ElevationColour {\n        0: ElevationColourValue;\n        1: ElevationColourValue;\n        2: ElevationColourValue;\n        3: ElevationColourValue;\n        4: ElevationColourValue;\n        6: ElevationColourValue;\n        8: ElevationColourValue;\n        12: ElevationColourValue;\n        16: ElevationColourValue;\n        24: ElevationColourValue;\n    }\n    interface PaletteColor {\n        transparent?: string;\n    }\n    interface SimplePaletteColorOptions {\n        transparent?: string;\n    }\n    interface Palette {\n        elevations: ElevationColour;\n        opacity: number;\n        modelled: Palette['primary'];\n        spring: Palette['primary'];\n        summer: Palette['primary'];\n        autumn: Palette['primary'];\n        winter: Palette['primary'];\n    }\n    interface PaletteOptions {\n        elevations: ElevationColour;\n        opacity: number;\n        modelled: PaletteOptions['primary'];\n        spring: PaletteOptions['primary'];\n        summer: PaletteOptions['primary'];\n        autumn: PaletteOptions['primary'];\n        winter: PaletteOptions['primary'];\n    }\n}\nexport {};\n"],"sourceRoot":""}